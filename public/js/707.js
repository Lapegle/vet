"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[707],{5707:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Io});var r,o,a=n(3),i=(n(1395),n(5437),n(5362),a.r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.r.createElement("path",{className:a.f.text,d:"M11 15h2v2h-2v-2m0-8h2v6h-2V7m1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8z"}))),s=a.r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.r.createElement("path",{className:a.f.text,d:"M12 2L1 21h22M12 6l8 13H4m7-9v4h2v-4m-2 6v2h2v-2"})),l=a.r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.r.createElement("path",{className:a.f.text,d:"M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.85.63 3.55 1.68 4.91L16.91 5.68C15.55 4.63 13.85 4 12 4m0 16a8 8 0 0 0 8-8c0-1.85-.63-3.55-1.68-4.91L7.09 18.32C8.45 19.37 10.15 20 12 20z"})),c=a.r.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.r.createElement("path",{className:a.f.text,d:"M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6z"})),u=a.r.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.r.createElement("path",{className:a.f.text,d:"M12 16h8v1h2V7h-2v1h-8l-2-2H8v5.2H2v1.6h6V18h2l2-2m-2-7.2l1.2 1.2H20v4h-8.8L10 15.2V8.8z"})),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},f=m((0,a.b)("appbar"),3),v=f[0],h=f[1],g=f[2],y=m(g("badge"),2),b=y[0],E=y[1],w=m(g("logo-container"),1)[0],S=m(g("main-section"),1)[0],_=m(g("title-section"),1)[0],P=m(g("title"),1)[0],C=m(g("subtitle"),1)[0],O=m(g("control-section"),1)[0],N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mapAppBarItems=function(e,n){if(e){var r=t.props,o=r.rounded,i=r.size,s=r.legacyMode,l="appbar-item-"+n;if("splitter"===e.type)return a.r.createElement(a.T,{key:l});if("button"===e.type){var c={block:!0,accent:s?"full":"text+icon",background:s?"default":"transparent",size:s?"large":i,rounded:o};return a.r.createElement(a.B,p({key:l},e,c))}if("dropdown"===e.type){var u={block:!0,accent:s?"full":"text+icon",background:s?"default":"transparent",size:s?"large":i,rounded:o};return a.r.createElement(a.D,p({key:l},e,u))}if("group"===e.type){var d={block:!0,defaultAccent:s?"full":"text+icon",defaultBackground:s?"default":"transparent",size:s?"large":i,rounded:o};return a.r.createElement(a.a,p({key:l},e,d))}}},t.mapMenuItems=function(e){return{id:e.id,text:e.text,title:e.title,disabled:e.disabled}},t.onTabSelect=function(e){var n=t.props.onMenuItemSelect;n&&n(e)},t}return d(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.id,o=n.size,i=n.rounded,s=n.dataAid,l=n.mainItems,c=n.menuItems,u=n.controlItems,d=n.selectedMenuItemId,m=n.customCSS,f=n.title,g=n.subtitle,y=n.badge,N=n.legacyMode,T=(0,a.c)(v,m,((e={})[a.s]=!N&&"small"===o,e[a.d]=N||"large"===o,e[h("legacy")]=N,e)),x=l&&l.map(this.mapAppBarItems),k=u&&u.map(this.mapAppBarItems),I=void 0;if(c){var D={dataAid:s?s+"_tabs":void 0,design:N?"transparent":"simplified",align:"left",tabs:c.map(this.mapMenuItems),size:N?"large":o,rounded:i,block:!0,selectedTabId:d,onTabSelect:this.onTabSelect};I=a.r.createElement(a.e,p({},D))}var A={block:!0,toggleBackground:"transparent",toggleAccent:"icon",padding:!0,rounded:i,size:N?"large":o,overflowVisible:!0},j=void 0;return y&&(j=(0,a.c)(b,((t={})[E("accent")]="accent"===y.type,t[E("error")]="error"===y.type,t[E("warning")]="warning"===y.type,t[E("clickable")]=y.onClick,t))),a.r.createElement("div",{id:"appbar_"+r,"data-aid":s,className:T},a.r.createElement("div",{id:"appbar_"+r+"_logo_container",className:w}),a.r.createElement("div",{className:S},a.r.createElement(a.g,p({id:"appbar_"+r+"_main",dataAid:s&&s+"_main-section"},A),x,x&&I&&a.r.createElement(a.T,null),I)),a.r.createElement("div",{className:_},f&&a.r.createElement("span",{className:P},f),g&&a.r.createElement("span",{className:C},"* "+g+" *"),y&&a.r.createElement("span",{className:j,title:y.title||y.text,onClick:y.onClick},y.text)),a.r.createElement("div",{className:O},a.r.createElement(a.g,p({id:"appbar_"+r+"_control",dataAid:s&&s+"_control-section"},A),k)))},t.defaultProps={legacyMode:!1,rounded:!1,size:"default"},t}(a.r.Component),T=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),x=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},k=x((0,a.b)("menu-panel"),3),I=k[0],D=k[1],A=x((0,k[2])("placeholder"),1)[0],j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayName="MenuPanel",t}return T(t,e),t.prototype.render=function(){var e,t=this.props,n=t.children,r=t.customCSS,o=t.customScroll,i=t.dataAid,s=t.toggle.text,l=(0,a.c)(I,r,((e={})[D("fill-container")]=o,e));return a.r.createElement("div",{className:l,"data-aid":i,role:"region","aria-label":s},n)},t.defaultProps={chevronIcon:(0,a.h)(a.I,{rotate:"90",size:"small"}),customScroll:!1,disabled:!1,hideChevron:!1},t}(a.r.Component);a.i.set(j,"MenuPanel");var L,z=function(e){var t=e.text;return a.r.createElement("div",{className:A},t)},M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},R=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},G=R((0,a.b)("message-box"),1)[0],F=R((0,a.m)("message"),1)[0],V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClose=function(e){return function(){t.props.onClose(e)}},t}return M(t,e),t.prototype.render=function(){var e,t,n=this,r=this.props,o=r.title,i=r.message,s=r.controls,l=r.open,c=r.style,u=r.hideCloseButton,d=r.onOpen,p=r.closeTimeoutMS,m=r.customCSS,f=r.overlayCustomCSS,v=r.dataAid,h=r.buttonsAlign,g=r.level,y=r.rounded,b=r.icon,E=r.titleAlign,w=r.customControlLabels,S={title:o,open:l,level:g,rounded:y,style:c,icon:b,onOpen:d,dataAid:v,hideCloseButton:u,titleAlign:E,overlayCustomCSS:f,closeTimeoutMS:p,shouldCloseOnOverlayClick:r.shouldCloseOnOverlayClick,shouldCloseOnEsc:r.shouldCloseOnEsc,customCSS:(0,a.c)(G,m),onClose:this.onClose(),controls:(e=s.length>2?"right":"center",t=h||e,s.reduce((function(e,t){var r={onClick:n.onClose(t)},o=w&&w[t];return"ok"===t&&(r.text=o||"OK",r.accent="full"),"yes"===t&&(r.text=o||"Yes",r.accent="full"),"no"===t&&(r.text=o||"No",r.accent="full"),"cancel"===t&&(r.text=o||"Cancel"),e.buttons.push(r),e}),{align:t,buttons:[]}))};return a.r.createElement(a.j,B({},S),a.r.createElement("div",{className:F},i))},t.defaultProps={closeTimeoutMS:0,hideCloseButton:!1,level:"info",rounded:!1,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,titleAlign:"left"},t}(a.r.Component),U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(){return(H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},K=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},W=K((0,a.b)("progress"),3),$=W[0],Q=W[1],Z=W[2],X=K(Z("fill"),1)[0],Y=K(Z("value"),1)[0],J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._fillRef=a.r.createRef(),t.getFillElement=function(){return t._fillRef.current},t}return U(t,e),t.prototype.render=function(){var e,t=this.props,n=t.id,r=t.progress,o=t.indeterminate,i=t.pause,s=t.size,l=t.showProgress,c=t.color,u=t.transparent,d=t.width,p=t.inline,m=t.customCSS,f=t.dataAid,v=t.style,h=(0,a.c)($,m,((e={})[Q("inline")]=p,e[Q("accent")]="accent"===c,e[Q("semi-transparent")]="semi"===u,e[Q("transparent")]="full"===u,e[Q("indeterminate")]=o,e[Q("pause-"+i)]=i,e[a.s]="small"===s,e[a.d]="large"===s,e)),g=void 0;if("default"!==c&&"accent"!==c&&(g=c),o)return a.r.createElement("div",{id:n,"data-aid":f,className:h,style:H({width:d},v.bar)},a.r.createElement("div",{className:X,ref:this._fillRef,style:H({backgroundColor:g},v.fill)}));var y=100*(r&&!isNaN(r)&&r>=0&&r<=1&&r||0),b=Math.round(y)+"%",E=H({width:y+"%",backgroundColor:g},v.fill);return a.r.createElement("div",{id:n,"data-aid":f,className:h,style:H({width:d},v.bar)},a.r.createElement("div",{className:X,ref:this._fillRef,style:E},l&&"small"!==s&&a.r.createElement("span",{className:Y},b)))},t.defaultProps={color:"default",indeterminate:!1,inline:!1,showProgress:!0,size:"default",style:{}},t}(a.r.Component),q=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},ee=(L=q((0,a.b)("notification"),3))[0],te=L[1],ne=L[2],re=q(ne("button"),1)[0],oe=q(ne("button-mini"),1)[0],ae=q(ne("tag"),1)[0],ie=q(ne("content"),1)[0],se=q(ne("actions"),1)[0],le=q(ne("caption"),1)[0],ce=q(ne("loader"),1)[0],ue=q(ne("status"),1)[0],de=q(ne("timeout-bar"),1)[0],pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},fe={cancel:(0,a.h)(l)},ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pe(t,e),t.prototype.render=function(){var e,t=this.props,n=t.task,r=t.cancelTaskTitle,o=t.rounded,i=t.size,s=t.dataAid,l={rounded:o,customCSS:re,icon:fe.cancel,title:r,onClick:n.cancel,dataAid:s&&s+"_task_cancel"},c=function(e){return Number.isFinite(e)&&e>1?e/100:e}(n.progress),u={size:"small",indeterminate:!c||c===1/0,progress:c},d=(0,a.c)(ee,te("task"),((e={})[te("rounded")]=o,e[te("size-small")]="small"===i,e));if("small"===i){var p=me(me({},l),{size:"small",icon:fe.cancel,customCSS:oe,name:r});return a.r.createElement("div",{className:d,"data-aid":s&&s+"_task",role:"status","aria-live":"polite","aria-label":""+c},a.r.createElement("div",{className:ae},a.r.createElement("div",{className:ce},a.r.createElement("div",null)),n.cancel&&a.r.createElement(a.B,me({},p))),a.r.createElement("div",{className:ie},a.r.createElement("div",{className:le},n.caption),!u.indeterminate&&a.r.createElement(J,me({},u))))}return a.r.createElement("div",{className:d,"data-aid":s&&s+"_task",role:"status","aria-live":"polite","aria-label":""+c},a.r.createElement("div",{className:ae},a.r.createElement("div",{className:ce},a.r.createElement("div",null)),n.cancel&&a.r.createElement(a.B,me({},l))),a.r.createElement("div",{className:ie},a.r.createElement("div",{className:le},n.caption),a.r.createElement(J,me({},u)),a.r.createElement("div",{className:ue},n.statusText)))},t}(a.r.Component),he=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=function(){return(ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ye={error:(0,a.h)(i),warning:(0,a.h)(s),info:(0,a.h)(c),details:(0,a.h)(a.k,{rotate:"90"}),dismiss:(0,a.h)(a.l)},be={error:{icon:ye.error,modifier:"error"},warning:{icon:ye.warning,modifier:"warning"},info:{icon:ye.info,modifier:"info"}},Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._timeoutBarRef=a.r.createRef(),t.onTimeout=function(){var e,n,r;null===(e=t.props.renderTimeout)||void 0===e||e.callback(),null===(r=null===(n=t._timeoutBarRef.current)||void 0===n?void 0:n.getFillElement())||void 0===r||r.removeEventListener("animationend",t.onTimeout)},t}return he(t,e),t.prototype.componentDidMount=function(){var e,t;null===(t=null===(e=this._timeoutBarRef.current)||void 0===e?void 0:e.getFillElement())||void 0===t||t.addEventListener("animationend",this.onTimeout)},t.prototype.componentWillUnmount=function(){this.onTimeout()},t.prototype.render=function(){var e;if(this.props.notification.hidden)return null;var t,n=this.props,r=n.notification,o=n.onDetailsClick,i=n.onDismiss,s=n.dismissLabel,l=n.showDetailsLabel,c=n.rounded,u=n.size,d=n.dataAid,p=n.renderTimeout,m=function(e){return be[e.level]}(r),f=m.icon,v=m.modifier,h=(0,a.c)(ee,te(v),((e={})[te("rounded")]=c,e[te("size-small")]="small"===u,e)),g={type:"button",onClick:o,customCSS:re},y={type:"button",onClick:i,customCSS:re};return p&&(t={size:"small",progress:1,style:{fill:{animationDuration:p.time+"ms"}},customCSS:de}),"small"===u?a.r.createElement("div",{className:h,"data-aid":d&&d+"_notification",role:"alert","aria-live":"assertive","aria-label":v},a.r.createElement("div",{className:ae},a.r.createElement(a.n,{icon:ge(ge({},f),{size:u})})),a.r.createElement("div",{className:ie},a.r.createElement("div",{className:le},r.caption),a.r.createElement("div",{className:se},a.r.createElement(a.a,{size:"small",rounded:c,items:[r.content&&ge(ge({},g),{icon:ye.details,title:l,customCSS:oe,dataAid:d&&d+"_notification_show_details"}),ge(ge({},y),{icon:ye.dismiss,title:s,customCSS:oe,dataAid:d&&d+"_notification_dismiss"})]}))),p&&a.r.createElement(J,ge({},t,{ref:this._timeoutBarRef}))):a.r.createElement("div",{className:h,"data-aid":d&&d+"_notification",role:"alert","aria-live":"assertive","aria-label":v},a.r.createElement("div",{className:ae},a.r.createElement(a.n,{icon:r.icon||f})),a.r.createElement("div",{className:ie},a.r.createElement("div",{className:le},r.caption),a.r.createElement("div",{className:se},r.content&&a.r.createElement(a.B,ge({},g,{rounded:c,dataAid:d&&d+"_notification_show_details"}),l),a.r.createElement(a.B,ge({},y,{rounded:c,dataAid:d&&d+"_notification_dismiss"}),s))),p&&a.r.createElement(J,ge({},t,{ref:this._timeoutBarRef})))},t}(a.r.Component),we=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Se=function(){return(Se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.render=function(){var e,t=this.props,n=t.notifications,r=t.onShowAll,o=t.onDismissAll,i=t.showAllLabel,s=t.dismissAllLabel,l=t.rounded,c=t.size,u=t.dataAid,d=(0,a.c)(ee,te("batch"),((e={})[te("rounded")]=l,e[te("size-small")]="small"===c,e)),p={type:"button",onClick:r,customContent:i,customCSS:re},m={type:"button",onClick:o,customContent:s,customCSS:re};return"small"===c?a.r.createElement("div",{className:d,"data-aid":u&&u+"_batch"},a.r.createElement("div",{className:ae},"+"+(n.length-3)),a.r.createElement("div",{className:ie},a.r.createElement("div",{className:se},a.r.createElement(a.a,{size:"small",rounded:l,items:[p,m]})))):a.r.createElement("div",{className:d,"data-aid":u&&u+"_batch"},a.r.createElement("div",{className:ae},"+"+(n.length-3)),a.r.createElement("div",{className:ie},a.r.createElement("div",{className:se},a.r.createElement(a.B,Se({},p),i),a.r.createElement(a.B,Se({},m),s))))},t}(a.r.Component),Pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Oe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ne=Oe((0,a.b)("notifications-container"),2),Te=Ne[0],xe=Ne[1],ke=Oe((0,a.b)("notifications-modal"),1)[0],Ie={expanded:!1,activeId:void 0},De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._root=null,t.state=Ie,t.getRoot=function(){var e=t.context,n=e.root,r=e.API,o=n.getElement(),i=r.namespace+"-notifications-root",s=document.getElementById(i);if(s)return s;var l=(0,a.o)(i,"notifications");return o.appendChild(l)},t.getRenderTimeout=function(e){var n,r,o=t.props,a=o.autoDismissTimeout,i=o.autoHideTimeout;if((e.autoDismissTimeout||a)&&(n={callback:t.onDismiss(e.id,!0),time:e.autoDismissTimeout||a}),i&&(r={callback:function(){return t.hideNotification(e.id)},time:i}),n&&r){var s=Oe([n,r].sort((function(e,t){return e.time-t.time})),2),l=s[0],c=s[1],u=l.callback;return l.callback=function(){u(),setTimeout(c.callback,c.time-l.time)},l}return n||r},t.hideNotification=function(e){t.props.onNotificationHide(e)},t.hideNotificationsAll=function(){t.props.onNotificationHide()},t.setActiveIndex=function(e){t.setState({activeId:e})},t.toggleExpand=function(e){var n=t.state.expanded;e&&n||!1===e&&!n||t.setState({expanded:!n})},t.onDismiss=function(e,n){return void 0===n&&(n=!1),function(){n&&t.state.expanded||t.props.onDismiss(e)}},t.onDetailsOpen=function(e){return function(){t.props.autoHideTimeout&&t.hideNotificationsAll(),t.setActiveIndex(e),t.toggleExpand(!0)}},t}return Pe(t,e),t.getDerivedStateFromProps=function(e,t){return e.notifications.length?null:Ie},t.prototype.componentDidMount=function(){this._root=this.getRoot()},t.prototype.render=function(){var e,t=this,n=this._root,r=this.props,o=r.notifications,i=r.tasks,s=r.rounded,l=r.position,c=r.showLastThree,u=r.customCSS,d=r.detailsCustomCSS,p=r.size,m=r.dataAid,f=r.dismissLabel,v=r.dismissAllLabel,h=r.showAllLabel,g=r.showDetailsLabel,y=r.cancelTaskTitle,b=r.onDismissAll,E=r.ariaLabel,w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["notifications","tasks","rounded","position","showLastThree","customCSS","detailsCustomCSS","size","dataAid","dismissLabel","dismissAllLabel","showAllLabel","showDetailsLabel","cancelTaskTitle","onDismissAll","ariaLabel"]),S=this.state,_=S.expanded,P=S.activeId;if(!n)return null;if(_&&o.length){var C=Ce(Ce({},w),{customCSS:d,dismissLabel:f,dismissAllLabel:v,notifications:o,activeId:P,dataAid:m,ariaLabel:E});return a.r.createElement(a.M,{open:_,onClose:function(){return t.toggleExpand(!1)},customCSS:ke},a.r.createElement(a.N,Ce({},C)))}var O=o.filter((function(e){return!e.hidden}));if(!O.length&&!i.length)return null;var N=!c&&O.length>3;O=c?O.slice(-3):N?O.slice(0,3):O;var T=(0,a.c)(Te,u,((e={})[xe("position-"+l)]=l,e)),x={notifications:o,rounded:s,size:p,dataAid:m,showAllLabel:h,dismissAllLabel:v,onShowAll:this.onDetailsOpen(),onDismissAll:b},k={parent:{type:"viewport"},align:l};return a.p.createPortal(a.r.createElement(a.P,Ce({},k),a.r.createElement("div",{className:T},i.map((function(e){var t={task:e,rounded:s,size:p,dataAid:m,cancelTaskTitle:y};return a.r.createElement(ve,Ce({key:e.id},t))})),O.map((function(e){var n={notification:e,rounded:s,size:p,dataAid:m,onDetailsClick:t.onDetailsOpen(e.id),onDismiss:t.onDismiss(e.id),dismissLabel:f,showDetailsLabel:g,renderTimeout:t.getRenderTimeout(e)};return a.r.createElement(Ee,Ce({key:e.id},n))})),N&&a.r.createElement(_e,Ce({},x)))),n)},t.contextType=a.A,t}(a.r.Component),Ae=function(){function e(e){this._state={notifications:new Map,tasks:new Map},this._updateCallback=e}return e.prototype.dispatch=function(e){(function(e,t){switch(t.type){case"ADD_NOTIFICATION":e.notifications.set(t.payload.id,t.payload);break;case"ADD_TASK":e.tasks.set(t.payload.id,t.payload);break;case"REMOVE_NOTIFICATION":return e.notifications.delete(t.payload);case"REMOVE_TASK":return e.tasks.delete(t.payload);case"UPDATE_TASK":var n=t.payload,r=n.id,o=n.progress,a=n.statusText,i=e.tasks.get(r);if(!i)return!1;i.progress=o,i.statusText=a||i.statusText;break;case"CLEAR_NOTIFICATIONS":e.notifications.clear();break;case"HIDE_NOTIFICATION":var s=e.notifications.get(t.payload);if(!s)return!1;s.hidden=!0;break;case"HIDE_NOTIFICATIONS_ALL":e.notifications.forEach((function(e){e.hidden=!0}))}return!0})(this._state,e)&&this.scheduleUpdate()},e.prototype.scheduleUpdate=function(){var e=this;clearTimeout(this._updateTimer),this._updateTimer=window.setTimeout((function(){e._updateCallback(e._state)}),0)},e}();function je(e,t){return void 0===t&&(t=void 0),{type:e,payload:t}}var Le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(){return(ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Me=function(e){function t(t){var n=e.call(this,t)||this;return n._subscribedCallbacks=[],n._notificationIdBase=(0,a.q)(),n._notificationCounter=0,n.state={notifications:[],tasks:[]},n.onSend=function(e){var t,r=e.type,o=e.payload;if(o.id=null!==(t=o.id)&&void 0!==t?t:n.generateNotificationId(),"notification"===r){var a=o;"info"!==a.level&&"warning"!==a.level&&(a.level="error"),n._store.dispatch(je("ADD_NOTIFICATION",a))}else{var i=o;i.cancel=n.onTaskCancel(i),n._store.dispatch(je("ADD_TASK",i))}},n.onDismiss=function(e){n._store.dispatch(je("REMOVE_NOTIFICATION",e))},n.onDismissAll=function(){n._store.dispatch(je("CLEAR_NOTIFICATIONS"))},n.onTaskUpdate=function(e){n._store.dispatch(je("UPDATE_TASK",e))},n.subscribe=function(e){n._subscribedCallbacks.push(e)},n.unsubscribe=function(e){n._subscribedCallbacks=n._subscribedCallbacks.filter((function(t){return t!==e}))},n.getState=function(){return n.state},n.generateNotificationId=function(){return""+n._notificationIdBase+n._notificationCounter++},n.onUpdate=function(e){var t=n.props.onDismiss;t&&n.state.notifications.filter((function(t){return!e.notifications.has(t.id)})).forEach((function(e){return t(e.id)}));var r={notifications:[],tasks:[]};e.notifications.forEach((function(e){return r.notifications.push(e)})),e.tasks.forEach((function(e){return r.tasks.push(e)})),n.setState(r,(function(){n._subscribedCallbacks.forEach((function(e){return e&&e(n.state)}))}))},n.onTaskCancel=function(e){var t=e.id,r=e.cancel;return function(){!1!==(null==r?void 0:r())&&n._store.dispatch(je("REMOVE_TASK",t))}},n.onNotificationHide=function(e){void 0===e?n._store.dispatch(je("HIDE_NOTIFICATIONS_ALL")):n._store.dispatch(je("HIDE_NOTIFICATION",e))},n._store=new Ae(n.onUpdate),n}return Le(t,e),t.prototype.componentDidMount=function(){var e=this.context.API;e.current.notifications?console.warn("Repeated <NotificationManager/> mounting"):e.current.notifications={send:this.onSend,dismiss:this.onDismiss,dismissAll:this.onDismissAll,updateTask:this.onTaskUpdate,subscribe:this.subscribe,unsubscribe:this.unsubscribe,getState:this.getState}},t.prototype.componentWillUnmount=function(){var e=this.context.API;e.current.notifications&&e.current.notifications.send===this.onSend&&delete e.current.notifications},t.prototype.render=function(){var e=this._subscribedCallbacks,t=this.props,n=t.autoHideTimeout,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["autoHideTimeout"]),o=this.state,i=o.notifications,s=o.tasks,l=n;e.length>0&&void 0===n&&(l=2e3);var c=ze(ze({},r),{notifications:i,tasks:s,autoHideTimeout:l,showLastThree:e.length>0,onDismiss:this.onDismiss,onDismissAll:this.onDismissAll,onNotificationHide:this.onNotificationHide});return a.r.createElement(De,ze({},c))},t.contextType=a.A,t.defaultProps={position:"bottom-center",rounded:!1,size:"default",dismissLabel:"Dismiss",dismissAllLabel:"Dismiss All",showAllLabel:"Show All",showDetailsLabel:"Show Details",cancelTaskTitle:"Cancel this task",expandTitle:"Expand",collapseTitle:"Collapse",errorCategoryLabel:"Error",warningCategoryLabel:"Warning",infoCategoryLabel:"Notification",ariaLabel:"Notifications details"},t}(a.r.Component),Be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Be(t,e),t.prototype.render=function(){var e=this.props,t=e.notifications,n=e.placeholder,r=e.customCSS,o=e.dataAid,i=(e.alwaysVisible,e.chevronIcon),s=e.customScroll,l=e.disabled,c=e.hideChevron,u=e.id,d=e.toggle,p=(e.children,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["notifications","placeholder","customCSS","dataAid","alwaysVisible","chevronIcon","customScroll","disabled","hideChevron","id","toggle","children"])),m=Re(Re({},p),{notifications:t}),f={dataAid:o,chevronIcon:i,customScroll:s,disabled:l,hideChevron:c,id:u,toggle:d,customCSS:(0,a.c)(D("notifications"),r)};return a.r.createElement(j,Re({},f),t.length>0?a.r.createElement(a.N,Re({},m)):a.r.createElement(z,{text:n}))},t.defaultProps={id:"__gc-notifications__",toggle:{icon:(0,a.h)(a.t),text:"Notifications"},customScroll:!0,placeholder:"There are no notifications",disabled:!1,alwaysVisible:!1,chevronIcon:(0,a.h)(a.I,{rotate:"90",size:"small"}),hideChevron:!1},t}(a.r.Component),Fe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(){return(Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ue=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},He=Ue((0,a.b)("menu"),3),Ke=He[0],We=He[1],$e=He[2],Qe=Ue($e("panel-container"),2),Ze=Qe[0],Xe=Qe[1],Ye=Ue($e("panel-header"),1)[0],Je=Ue($e("panel-content"),1)[0],qe=Ue($e("panel-toggle"),2),et=qe[0],tt=qe[1],nt=Ue($e("panel-toggle-chevron"),2),rt=nt[0],ot=nt[1],at=Ue($e("logo"),2),it=at[0],st=at[1],lt=Ue($e("logo-placeholder"),2),ct=lt[0],ut=lt[1],dt=Ue($e("btn-container"),1)[0],pt=Ue($e("scrollable-buttons"),1)[0],mt=Ue($e("splitter"),1)[0],ft=Ue((0,a.b)("btn-pin"),2),vt=ft[0],ht=ft[1],gt={toggle:(0,a.h)(a.u),pin:(0,a.h)(u)},yt=function(){return a.r.createElement("div",{className:mt})};a.i.set(yt,"MenuSplitter");var bt,Et=function(e){function t(t){var n=e.call(this,t)||this;n._menuDiv=null,n._buttonContainer=null,n._panelContainer=null,n._transitionSubscribers={start:[],end:[]},n.getPanelsAndSplitters=function(e){var t=a.r.Children.toArray(e).filter((function(e){return a.r.isValidElement(e)&&(a.i.is(e.type,j)||a.i.is(e.type,yt))})),r=n.props,o=r.notificationPanel,i=r.notificationsData;if(i&&o){var s=i.notifications,l=i.amount,c=l.notifications>0||o.alwaysVisible,u=Ve(Ve({},o),{notifications:s});l.notifications>0&&!o.alwaysVisible&&t.push(a.r.createElement(yt,null)),c&&t.push(a.r.createElement(Ge,Ve({},u)))}return t},n.onToggle=function(){var e,t,r,o=n,a=o._transitionSubscribers,i=o.props.onToggle,s=o.state.status;i&&i(s),a.start.forEach((function(e){return e(s)})),null===(e=n._buttonContainer)||void 0===e||e.addEventListener("transitionend",n.onTransitionEnd),null===(r=null===(t=n._panelContainer)||void 0===t?void 0:t.element)||void 0===r||r.addEventListener("transitionend",n.onTransitionEnd)},n.onTransitionEnd=function(e){var t,r=n.context.API,o=n._buttonContainer,i=n._panelContainer.element;if(e.target===o||e.target===i){var s=null===(t=r.current.dropdowns)||void 0===t?void 0:t.current,l=null==s?void 0:s.getPositionerNode();null==l||l.classList.add(a.v),null==s||s.updateMenuPosition(),o.removeEventListener("transitionend",n.onTransitionEnd),i.removeEventListener("transitionend",n.onTransitionEnd),n._transitionSubscribers.end.forEach((function(e){return e(n.state.status)}))}},n.onPointerEventStart=function(e){var t=n,r=t._menuDiv,o=t.props.noCloseOnWindowClick,i=t.context.root,s=i.getElement();o||!r||s.classList.contains(a.w)||r===e.target||r.contains(e.target)||(i.addEventListener("mouseup",n.onPointerEventEnd),i.addEventListener("touchend",n.onPointerEventEnd),i.addEventListener("click",n.onPointerEventEnd))},n.onPointerEventEnd=function(){var e=n,t=e.state,r=t.status,o=t.pinned,a=e.context.root;if("expanded"===r){var i=n.props.onToggleClick;i&&i(),n.collapseMenu()}else"panel"!==r||o||n.closePanel();a.removeEventListener("mouseup",n.onPointerEventEnd),a.removeEventListener("touchend",n.onPointerEventEnd),a.removeEventListener("click",n.onPointerEventEnd)},n.expandMenu=function(){n.setState({status:"expanded"})},n.collapseMenu=function(){n.state.pinned?n.setState({status:"panel"}):n.setState({status:"collapsed"})},n.toggleMenu=function(){"expanded"!==n.state.status?n.expandMenu():n.collapseMenu()},n.openPanel=function(e){e!==n.state.activePanelId&&(n.setState({activePanelId:e,status:"panel"}),n.onPanelChange(e))},n.closePanel=function(e){var t=n.state,r=t.activePanelId;"panel"!==t.status||void 0!==e&&r!==e||(n.setState({activePanelId:null,status:"collapsed",pinned:!1}),n.onPanelChange(null))},n.pinPanel=function(e){var t=n.state,r=t.activePanelId,o=t.status;void 0===e&&"panel"===o&&r?n.setState({pinned:!0}):void 0!==e&&(n.setState({activePanelId:e,status:"panel",pinned:!0}),n.onPanelChange(e))},n.unpinPanel=function(){n.setState({pinned:!1})},n.onPanelChange=function(e){var t=n.props.onPanelChange;t&&t(e)},n.subscribeToTransition=function(e){var t=e.start,r=e.end;return t&&n._transitionSubscribers.start.push(t),r&&n._transitionSubscribers.end.push(r),function(){t&&(n._transitionSubscribers.start=n._transitionSubscribers.start.filter((function(e){return e!==t}))),r&&(n._transitionSubscribers.end=n._transitionSubscribers.end.filter((function(e){return e!==r})))}},n.onPanelToggleClick=function(e){return function(){var t=n.state,r=t.activePanelId,o=t.pinned;"panel"!==t.status||r!==e||o?(n.setState({activePanelId:e,status:"panel"}),n.onPanelChange(e)):(n.setState({activePanelId:null,status:"collapsed"}),n.onPanelChange(null))}},n.mapTogglesAndSplitters=function(e,t){var r,o;if(a.i.is(e.type,yt))return a.r.createElement(yt,{key:"panel-splitter-"+t});var i=n,s=i.props,l=s.size,c=s.legacyMode,u=s.notificationsData,d=i.state,p=d.status,m=d.activePanelId,f=e.props,v=f.id,h=f.toggle,g=f.disabled,y=f.dataAid,b=f.notifications,E=f.chevronIcon,w=f.hideChevron,S=h.badge&&Ve({nearIcon:!0},h.badge);if(b){var _=u,P=_.amount,C=_.level;S=P.notifications>0?{nearIcon:!0,rounded:!0,content:P.notifications,level:C}:void 0}var O={dataAid:y?y+"_toggle":void 0,block:!0,accent:c?"icon":"full",background:c?"transparent":"default",rounded:!1,size:l,badge:S,width:"100%",onClick:n.onPanelToggleClick(v),icon:h.icon,text:h.text,title:h.title,disabled:g},N={icon:E,customCSS:(0,a.c)(rt,(r={},r[ot("accent")]=c,r))},T=(0,a.c)(et,((o={})[tt("size-"+l)]="default"!==l,o[tt("active")]="panel"===p&&v===m,o[tt("no-chevron")]=w,o[tt("disabled")]=g,o));return a.r.createElement("div",{key:"menu-panel-"+v,className:T},a.r.createElement(a.B,Ve({},O)),!w&&a.r.createElement(a.n,Ve({},N)))},n.mapItems=function(e,t){if(e){var r=n.props,o=r.size,i=r.legacyMode,s="menu-item-"+t;if("splitter"===e.type)return a.r.createElement(yt,{key:s});if("button"===e.type){var l={block:!0,accent:i?"icon":"full",background:i?"transparent":"default",rounded:!1,size:o,width:"100%",badge:e.badge&&Ve(Ve({},e.badge),{nearIcon:!0})};return a.r.createElement(a.B,Ve({key:s},e,l),e.customContent)}return"custom"===e.type?a.r.cloneElement(e.content,{key:s}):void 0}},n.onToggleClick=function(){var e=n.props.onToggleClick;e&&e(),n.toggleMenu()},n.onPinClick=function(){var e=n.props.onPinClick;e&&e(),n.setState({pinned:!n.state.pinned})},n.getNode=function(){return n._menuDiv},n.onResize=function(e){var t;(null===(t=n._panelContainer)||void 0===t?void 0:t.element)&&(n._panelContainer.element.style.marginLeft="-"+e+"px")},n.onResizeEnd=function(){n._transitionSubscribers.end.forEach((function(e){return e(n.state.status)}))};var r={activePanelId:null,status:"collapsed",pinned:!1,logoContainerElement:null};return t.defaultPanelId?(r.activePanelId=t.defaultPanelId,r.status="panel"):"expanded"===t.defaultStatus&&(r.status="expanded"),n.state=r,n}return Fe(t,e),t.getDerivedStateFromProps=function(e,t){var n=null;function r(e){n||(n=Ve({},t)),n=Ve(Ve({},n),e)}return"__gc-notifications__"!==t.activePanelId||e.notificationPanel.alwaysVisible||e.notificationsData.amount.notifications||(t.pinned&&e.defaultPanelId?r({activePanelId:e.defaultPanelId}):r({activePanelId:null,status:"collapsed"})),void 0!==e.activePanelId&&e.activePanelId!==t.activePanelId&&r({activePanelId:e.activePanelId,status:null!==e.activePanelId?"panel":t.status}),void 0!==e.status&&e.status!==t.status&&r({status:e.status}),void 0!==e.pinned&&e.pinned!==t.pinned&&r({pinned:e.pinned}),n},t.prototype.componentDidMount=function(){var e=this.context,t=e.API,n=e.root;t.current.menu={expand:this.expandMenu,collapse:this.collapseMenu,toggle:this.toggleMenu,panels:{open:this.openPanel,close:this.closePanel,pin:this.pinPanel,unpin:this.unpinPanel},onTransition:this.subscribeToTransition};var r=this.props.logo;if(r){var o=document.getElementById("appbar_"+r.appBarId+"_logo_container");null!==o&&this.setState({logoContainerElement:o})}n.addEventListener("mousedown",this.onPointerEventStart),n.addEventListener("touchstart",this.onPointerEventStart)},t.prototype.componentWillUnmount=function(){var e=this.context.root;e.removeEventListener("mousedown",this.onPointerEventStart),e.removeEventListener("touchstart",this.onPointerEventStart),e.removeEventListener("mouseup",this.onPointerEventEnd),e.removeEventListener("touchend",this.onPointerEventEnd),e.removeEventListener("click",this.onPointerEventEnd)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.status;t.status!==n&&this.onToggle()},t.prototype.render=function(){var e,t,n,r,o=this,i=this.props,s=i.items,l=i.size,c=i.mode,u=i.children,d=i.autoHideScrollbar,p=i.logo,m=i.customCSS,f=i.dataAid,v=i.legacyMode,h=i.toggleText,g=i.toggleTitle,y=i.toggleContent,b=i.pinBtnIcon,E=i.panelWidth,w=i.hidePinBtn,S=i.resizablePanel,_=i.minResizeWidth,P=i.maxResizeWidth,C=i.ariaLabel,O=i.pinBtnTitle,N=this.state,T=N.activePanelId,x=N.status,k=N.pinned,I=N.logoContainerElement,D=(0,a.c)(Ke,m,((e={})[We("expanded")]="expanded"===x,e[We("panel")]="panel"===x,e[We("drawer")]="drawer"===c,e[We("size-small")]="small"===l,e[We("size-large")]="large"===l,e[We("legacy")]=v,e)),A={dataAid:f?f+"_toggle":void 0,block:!0,accent:v?"icon":"full",background:v?"transparent":"default",size:l,icon:gt.toggle,text:h,title:g||h,onClick:this.onToggleClick},j=s?s.map(this.mapItems):[],L={direction:"vertical",style:{container:{position:"unset"}},color:"contrast",size:"small",growOnHover:"expanded"===x,autoHide:d},z=[],M=this.getPanelsAndSplitters(u);M.length>0&&(r=M.find((function(e){return e.props.id===T})),z=M.map(this.mapTogglesAndSplitters));var B=(0,a.c)(Ze,((t={})[Xe("visible")]="panel"===x,t)),R={dataAid:f?f+"_pin":void 0,block:!0,icon:b||gt.pin,accent:"text+icon",background:"transparent",size:"large"===l?"default":"small",customCSS:(0,a.c)(vt,(n={},n[ht("pinned")]=k,n)),onClick:this.onPinClick,title:O},G={handlerSide:"right",disabled:!S||"panel"!==x,minSize:_,maxSize:P,onResize:this.onResize,onResizeEnd:this.onResizeEnd,customCSS:B,defaultSize:E,keepAspectRatio:!0};return a.r.createElement("div",{className:D,ref:function(e){return o._menuDiv=e},"data-aid":f,role:"navigation","aria-label":C||"menu"},function(){var e;if(!p||!I)return null;var t=(0,a.c)(it,((e={})[st("expanded")]="expanded"===x,e[st("drawer")]="drawer"===c,e[st("menu-size-small")]="small"===l,e[st("menu-size-large")]="large"===l,e[st("size-small")]=!v&&"small"===p.size,e[st("size-large")]=v||"large"===p.size,e));return a.p.createPortal(a.r.createElement(a.r.Fragment,null,"drawer"===c&&a.r.createElement("div",{className:(0,a.c)(ct,ut("size-"+l))}),a.r.createElement("div",{className:t},p.content)),I)}(),a.r.createElement("div",{className:dt,ref:function(e){return o._buttonContainer=e}},a.r.createElement(a.B,Ve({},A),y),a.r.createElement(yt,null),z.length>0&&z,z.length>0&&a.r.createElement(yt,null),j.length>0&&a.r.createElement("div",{className:pt},a.r.createElement(a.S,Ve({},L),j))),a.r.createElement(a.R,Ve({},G,{ref:function(e){return o._panelContainer=e}}),r&&a.r.createElement(a.r.Fragment,null,a.r.createElement("h2",{className:Ye},r.props.toggle.text,!w&&a.r.createElement(a.B,Ve({},R))),a.r.createElement("div",{className:Je},r.props.customScroll?r:a.r.createElement(a.S,null,r)))))},t.contextType=a.A,t.defaultProps={autoHideScrollbar:!0,defaultStatus:"collapsed",hidePinBtn:!1,legacyMode:!1,mode:"panel",noCloseOnWindowClick:!1,size:"large",resizablePanel:!0,minResizeWidth:160,maxResizeWidth:.8},t}(a.r.Component),wt=(0,a.x)(Et),St=function(e){return e.notificationPanel?a.r.createElement(wt,Ve({},e)):a.r.createElement(Et,Ve({},e))},_t=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=function(){return(Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._menu=null,t._menuProps={},t.state={showMenu:!1,mousePosition:{x:0,y:0}},t.open=function(e,n,r,o){t.context.API.current.dropdowns.open(t),t._menuProps=Pt({items:n},o||{}),t._onItemClick=r,t.setState({showMenu:!0,mousePosition:e})},t.close=function(){t.setState({showMenu:!1})},t.onItemClick=function(e){e.onClick?e.onClick(e.value):t._onItemClick&&t._onItemClick(e),t.close()},t.getNode=function(){return t._menu&&t._menu.getMenuNode()},t.getSafeZone=a.y,t.getMenuNode=a.y,t.onNavigation=a.y,t.getPositionerNode=a.y,t.updateMenuPosition=a.y,t}return _t(t,e),t.prototype.componentDidMount=function(){var e=this.context,t=e.API,n=e.root;t.current.dropdowns||(t.current.dropdowns=new a.z(n)),t.current.contextMenu&&console.warn("Repeated <ContextMenuProvider/> mounting"),t.current.contextMenu={open:this.open,close:this.close}},t.prototype.render=function(){var e=this,t=this.props,n=t.dataAid,r=t.size,o=this.state,i=o.showMenu,s={type:"mouse",position:o.mousePosition},l=Pt(Pt({},this._menuProps),{parent:s,onItemClick:this.onItemClick,dataAid:n,size:r,align:"left"});return i&&a.r.createElement(a.C,Pt({},l,{ref:function(t){return e._menu=t}}))},t.contextType=a.A,t}(a.r.Component),Ot=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(){return(Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},xt=Tt((0,a.b)("notifications-counter"),3),kt=xt[0],It=xt[2],Dt=Tt(It("toggle"),1)[0],At=Tt(It("menu"),1)[0],jt={toggle:(0,a.h)(a.t)},Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ot(t,e),t.prototype.render=function(){var e=this.props,t=e.notificationsData,n=t.notifications,r=t.amount,o=t.level,i=e.dataAid,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["notificationsData","dataAid"]);if(!r.notifications)return null;var l=Nt(Nt({},s),{notifications:n,dataAid:i}),c={content:a.r.createElement(a.N,Nt({},l)),dataAid:i?i+"_notification-toggle":void 0,size:"small",accent:"text+icon",background:"transparent",dropup:!0,offset:0,level:o,icon:jt.toggle,text:""+r.notifications,menuAlign:"left",hiddenChevron:!0,menuWidth:"auto",customCSS:Dt,menuCustomCSS:At};return a.r.createElement("div",{className:(0,a.c)(kt,a.s)},a.r.createElement(a.D,Nt({},c)),a.r.createElement(a.T,null))},t}(a.r.Component),zt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(){return(Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Bt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Rt=Bt((0,a.b)("status-bar"),3),Gt=Rt[0],Ft=Rt[2],Vt=Bt(Ft("accessory"),1)[0],Ut=Bt(Ft("items"),1)[0],Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zt(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.accessory,r=e.customCSS,o=e.dataAid;return a.r.createElement("div",{className:(0,a.c)(Gt,r),"data-aid":o},n&&a.r.createElement("div",{className:Vt},n),a.r.createElement("div",{className:Ut},a.r.createElement(a.g,Mt({},{id:"statusbar-tools",block:!0,dropup:!0,toggleBackground:"transparent",size:"small"}),t)))},t}(a.r.Component),Kt=(0,a.x)(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zt(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.notificationsData,r=e.dataAid,o=e.customCSS,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children","notificationsData","dataAid","customCSS"]),s=Mt(Mt({},i),{notificationsData:n,dataAid:r});return a.r.createElement(Ht,{dataAid:r,customCSS:o,accessory:a.r.createElement(Lt,Mt({},s))},t)},t}(a.r.Component)),Wt=function(e){return a.r.createElement(Kt,Mt({},e))},$t="object"==typeof Reflect?Reflect:null,Qt=$t&&"function"==typeof $t.apply?$t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};bt=$t&&"function"==typeof $t.ownKeys?$t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Zt=Number.isNaN||function(e){return e!=e};function Xt(){Xt.init.call(this)}var Yt=Xt;Xt.EventEmitter=Xt,Xt.prototype._events=void 0,Xt.prototype._eventsCount=0,Xt.prototype._maxListeners=void 0;var Jt=10;function qt(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function en(e){return void 0===e._maxListeners?Xt.defaultMaxListeners:e._maxListeners}function tn(e,t,n,r){var o,a,i,s;if(qt(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),i=a[t]),void 0===i)i=a[t]=n,++e._eventsCount;else if("function"==typeof i?i=a[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=en(e))>0&&i.length>o&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=i.length,s=l,console&&console.warn&&console.warn(s)}return e}function nn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function rn(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=nn.bind(r);return o.listener=n,r.wrapFn=o,o}function on(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):sn(o,o.length)}function an(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function sn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function ln(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(a){r.once&&e.removeEventListener(t,o),n(a)}))}}Object.defineProperty(Xt,"defaultMaxListeners",{enumerable:!0,get:function(){return Jt},set:function(e){if("number"!=typeof e||e<0||Zt(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Jt=e}}),Xt.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Xt.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Zt(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Xt.prototype.getMaxListeners=function(){return en(this)},Xt.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var i=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw i.context=a,i}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)Qt(s,this,t);else{var l=s.length,c=sn(s,l);for(n=0;n<l;++n)Qt(c[n],this,t)}return!0},Xt.prototype.addListener=function(e,t){return tn(this,e,t,!1)},Xt.prototype.on=Xt.prototype.addListener,Xt.prototype.prependListener=function(e,t){return tn(this,e,t,!0)},Xt.prototype.once=function(e,t){return qt(t),this.on(e,rn(this,e,t)),this},Xt.prototype.prependOnceListener=function(e,t){return qt(t),this.prependListener(e,rn(this,e,t)),this},Xt.prototype.removeListener=function(e,t){var n,r,o,a,i;if(qt(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){i=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},Xt.prototype.off=Xt.prototype.removeListener,Xt.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(o=a[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Xt.prototype.listeners=function(e){return on(this,e,!0)},Xt.prototype.rawListeners=function(e){return on(this,e,!1)},Xt.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):an.call(e,t)},Xt.prototype.listenerCount=an,Xt.prototype.eventNames=function(){return this._eventsCount>0?bt(this._events):[]},Yt.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}ln(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&ln(e,"error",t,{once:!0})}(e,o)}))};var cn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyUp=function(e){return e.which===a.K.TAB&&t.advance()},t.advance=function(){var e=t.props,n=e.className,r=e.waitingTime;clearTimeout(t._timerId),t._container.classList.remove(n),t._timerId=window.setTimeout((function(){t._container.classList.add(n)}),r)},t.reset=function(){t._container.classList.add(t.props.className)},t}return cn(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.className,n=e.getContainer,r=this.context.API;r.current.focusTimer?console.warn("Repeated <FocusTimer/> mounting"):(r.current.focusTimer={advance:this.advance,reset:this.reset},this._container=n(),window.addEventListener("keyup",this.onKeyUp),this._container.classList.add(t))},t.prototype.componentWillUnmount=function(){var e=this.props.className,t=this.context.API;t.current.focusTimer&&t.current.focusTimer.advance===this.advance&&(window.removeEventListener("keyup",this.onKeyUp),this._container.classList.remove(e),clearTimeout(this._timerId))},t.prototype.render=function(){return null},t.contextType=a.A,t.defaultProps={waitingTime:3e3,className:"gc-no-focus-effect",getContainer:function(){return document.body}},t}(a.r.Component),dn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}((0,a.b)("grid"),2),mn=pn[0],fn=pn[1],vn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn(t,e),t.prototype.render=function(){var e=this.props,t=e.template,n=e.customCSS,r=e.children,o=(0,a.c)(mn,fn(t),n);return a.r.createElement("div",{className:o},r)},t}(a.r.Component),hn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}((0,a.b)("grid-item"),2),yn=gn[0],bn=gn[1],En=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hn(t,e),t.prototype.render=function(){var e=this.props,t=e.area,n=e.customCSS,r=e.children,o=(0,a.c)(yn,n,bn(t));return a.r.createElement("div",{className:o},r)},t}(a.r.Component),wn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sn=function(){return(Sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}((0,a.b)("app"),1)[0],Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._root=null,t._rootId=t.props.rootId+"-app",t._API=new a.E(t.props.rootId),t._eventEmitter=new Yt.EventEmitter,t.getRootElement=function(){return t._root||(t._root=document.getElementById(t._rootId)),t._root||document.body},t.addEventListener=function(e,n){t._eventEmitter.on(e,n)},t.removeEventListener=function(e,n){t._eventEmitter.off(e,n)},t.onPointerEvent=function(e){t._eventEmitter.emit(e.type,e)},t}return wn(t,e),t.prototype.componentWillUnmount=function(){this._API.destroy()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.focusWaitingTime,r=e.withFocusTimer,o=e.gridTemplate,i=e.role,s=e.customCSS,l={root:{addEventListener:this.addEventListener,removeEventListener:this.removeEventListener,getElement:this.getRootElement},API:this._API},c={onMouseDown:this.onPointerEvent,onMouseUp:this.onPointerEvent,onClick:this.onPointerEvent,onTouchStart:this.onPointerEvent,onTouchEnd:this.onPointerEvent},u={waitingTime:n,getContainer:this.getRootElement},d=(0,a.c)(_n,s);return a.r.createElement(a.A.Provider,{value:l},r&&a.r.createElement(un,Sn({},u)),a.r.createElement("div",Sn({},c,{className:d,id:this._rootId,role:i}),o?a.r.createElement(vn,{template:o},t):t))},t.defaultProps={withFocusTimer:!0,focusWaitingTime:3e3},t}(a.r.Component);function Cn(e){var t=e.i18n,n=e.defaultNS,r=e.children,o=a.r.useMemo((function(){return{i18n:t,defaultNS:n}}),[t,n]);return a.r.createElement(a.F.Provider,{value:o},r)}var On=function(e){var t=e.dialogs,n=e.id,r=void 0===n?"default":n,o=(0,a.G)((function(e){return e.dialogs[r]||{}})).$callstack,i=void 0===o?[]:o,s=a.H.of(r),l=(0,a.J)("messagebox").closeDialog;return a.r.createElement(a.L.Provider,{value:{containerId:r}},i.map((function(e){return(t[e]||function(e){return function(t){return a.r.createElement(V,{open:!0,title:"Error",message:'Dialog "'+e+'" not found',controls:["ok"],onClose:l,key:t})}}(e))(e,s.getProps(e))})).reverse())};function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tn=0,xn=a.r.memo((function(e){var t=e.children,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;return o[kn]||(o[kn]=(0,a.Q)(e,t,n,r)),o[kn]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children"])),2),r=n[0],o=n[1];return a.r.useEffect((function(){return o&&Tn++,function(){o&&0==--Tn&&(In()[kn]=null)}}),[]),a.r.createElement(a.O.Provider,{value:r},t)}));xn.displayName="DndProvider";var kn=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function In(){return void 0!==n.g?n.g:window}function Dn(e){var t=null;return function(){return null==t&&(t=e()),t}}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&An(t.prototype,n),e}(),Ln=Dn((function(){return/firefox/i.test(navigator.userAgent)})),zn=Dn((function(){return Boolean(window.safari)}));function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Bn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,o=[],a=0;a<r;a++)o.push(a);o.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var i,s,l=[],c=[],u=0;u<r-1;u++)i=t[u+1]-t[u],s=n[u+1]-n[u],l.push(i),c.push(s/i);for(var d=[c[0]],p=0;p<l.length-1;p++){var m=c[p],f=c[p+1];if(m*f<=0)d.push(0);else{i=l[p];var v=l[p+1],h=i+v;d.push(3*h/((h+v)/m+(h+i)/f))}}d.push(c[c.length-1]);for(var g,y=[],b=[],E=0;E<d.length-1;E++){g=c[E];var w=d[E],S=1/l[E],_=w+d[E+1]-g-g;y.push((g-w-_)*S),b.push(_*S*S)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=y,this.c3s=b}var t,n;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,o=this.c2s,a=this.c3s,i=t.length-1;if(e===t[i])return n[i];for(var s,l=0,c=a.length-1;l<=c;){var u=t[s=Math.floor(.5*(l+c))];if(u<e)l=s+1;else{if(!(u>e))return n[s];c=s-1}}var d=e-t[i=Math.max(0,c)],p=d*d;return n[i]+r[i]*d+o[i]*p+a[i]*d*p}}])&&Mn(t.prototype,n),e}();function Rn(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function Gn(e){return{x:e.clientX,y:e.clientY}}var Fn,Vn="__NATIVE_FILE__",Un="__NATIVE_URL__",Hn="__NATIVE_TEXT__",Kn=Object.freeze({__proto__:null,FILE:Vn,URL:Un,TEXT:Hn});function Wn(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn=($n(Fn={},Vn,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),$n(Fn,Un,{exposeProperties:{urls:function(e,t){return Wn(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),$n(Fn,Hn,{exposeProperties:{text:function(e,t){return Wn(e,t,"")}},matchesTypes:["Text","text/plain"]}),Fn);function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&Zn(t.prototype,n),e}();function Yn(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Qn).filter((function(e){return Qn[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&Jn(t.prototype,n),e}();function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var or=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=r.sourceNodes.get(e);return t&&Rn(t)||null},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&r.document&&r.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=Gn(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,a=Yn(o);if(r.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var i=r.monitor.getSourceId(),s=r.sourceNodes.get(i),l=r.sourcePreviewNodes.get(i)||s;if(l){var c=r.getCurrentSourcePreviewNodeOptions(),u=function(e,t,n,r,o){var a,i,s,l="IMG"===(a=t).nodeName&&(Ln()||!(null===(i=document.documentElement)||void 0===i?void 0:i.contains(a))),c=Rn(l?e:t),u={x:n.x-c.x,y:n.y-c.y},d=e.offsetWidth,p=e.offsetHeight,m=r.anchorX,f=r.anchorY,v=function(e,t,n,r){var o=e?t.width:n,a=e?t.height:r;return zn()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}(l,t,d,p),h=v.dragPreviewWidth,g=v.dragPreviewHeight,y=o.offsetX,b=o.offsetY,E=0===b||b;return{x:0===y||y?y:new Bn([0,.5,1],[u.x,u.x/d*h,u.x+h-d]).interpolate(m),y:E?b:(s=new Bn([0,.5,1],[u.y,u.y/p*g,u.y+g-p]).interpolate(f),zn()&&l&&(s+=(window.devicePixelRatio-1)*g),s)}}(s,l,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});o.setDragImage(l,u.x,u.y)}}try{null==o||o.setData("application/json",{})}catch(e){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(a)r.beginDragNativeItem(a);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=e.dataTransfer,n=Yn(t);n&&r.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;r.dragEnterTargetIds=[],r.monitor.isDragging()&&(r.altKeyPressed=e.altKey,Ln()||r.actions.hover(t,{clientOffset:Gn(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:Gn(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){var t;r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem()&&(null===(t=r.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)),r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:Gn(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new qn(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new jn(this.isNodeInDocument)}var t,n;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},a=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",a),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},a=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",a),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",a)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return tr({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return tr({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(Kn).some((function(t){return Kn[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new Xn(Qn[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&rr(t.prototype,n),e}(),ar=function(e,t){return new or(e,t)},ir=function(e){var t=e.name,n=e.expr,r=(0,a._)((0,a.V)({item:{type:"value",label:t,expr:n}}),3),o=r[1],i=r[2];a.r.useEffect((function(){i((0,a.W)(),{captureDraggingState:!0})}),[]);var s=(0,a.c)(a.Y,(0,a.X)("comm-value"));return a.r.createElement("div",{className:s,ref:o},a.r.createElement("div",{className:a.Z},a.r.createElement(a.n,{icon:(0,a.h)(a.$)}),a.r.createElement("span",null,t)))},sr=function(e){var t=e.commonNodesFilter,n=void 0===t?function(){return!0}:t;return a.r.createElement(a.r.Fragment,null,(0,a.U)().filter((function(e){var t=e.Key;return n(t)})).map((function(e){var t=e.Name,n=e.Expr;return a.r.createElement(ir,{key:t,name:t,expr:"="+n})})))},lr=function(e){var t,n,r,o,i,s=e.dataSource,l=e.dataSource.Name,c=e.onDelete,u=e.onEdit,d=e.onAddDataSet,p=e.customAdd,m=(0,a._)([c,u,d].map((function(e){return"function"==typeof e})),3),f=m[0],v=m[1],h=m[2],g=(n=null===(t=s.ConnectionProperties)||void 0===t?void 0:t.DataProvider,r=s.$dataProvider,o=(0,a.aa)(n),i=(0,a.aa)(r),n&&r&&n!==r?o+" "+i:o||i||""),y=(0,a.a0)("components").t,b={block:!0,size:"small",rounded:!0,background:"transparent"},E=(0,a.c)(a.Y,(0,a.X)("data-source"));return a.r.createElement("div",{className:E},a.r.createElement("div",{className:a.Z},a.r.createElement(a.n,{icon:(0,a.h)(a.a1)}),a.r.createElement("div",{className:a.a2},a.r.createElement("span",{className:a.a3,title:l},l),g&&a.r.createElement("span",{className:a.a4},g)),a.r.createElement("div",{className:a.a5},f&&a.r.createElement(a.B,(0,a.a6)({},b,{icon:(0,a.h)(a.a7),onClick:c})),v&&a.r.createElement(a.B,(0,a.a6)({},b,{icon:(0,a.h)(a.a8),title:y("dataPanel.titleEditDataSource","Edit Data Source..."),onClick:u})),p&&p,h&&a.r.createElement(a.B,(0,a.a6)({},b,{icon:(0,a.h)(a.a9),title:y("dataPanel.titleAddDataSet","Add Data Set..."),onClick:d})))))},cr=function(e){var t,n,r=e.parameter,o=e.index,i=e.onClick,s=e.onDelete,l=e.onMoveUp,c=e.onMoveDown,u=(0,a._)((0,a.V)({item:{type:"value",label:r.Name,expr:(t="Parameters",n=r.Name,n.includes(".")?"="+t+'.Item("'+n+'").Value':"="+t+"!"+n+".Value")}}),3),d=u[1],p=u[2],m=(0,a.a0)().t;a.r.useEffect((function(){p((0,a.W)(),{captureDraggingState:!0})}),[]);var f,v=(0,a.ab)(),h={block:!0,size:"small",rounded:!0,background:"transparent"},g=(0,a.c)(a.Y,(0,a.X)("parameter"));return a.r.createElement("div",{className:g,ref:d},a.r.createElement("div",{className:a.Z,onClick:function(){v&&i&&i(r,o)}},a.r.createElement(a.n,{icon:(0,a.h)(a.ac)}),a.r.createElement("div",{className:a.a2},a.r.createElement("span",{className:a.a3,title:r.Name},r.Name),a.r.createElement("span",{className:a.a4},(f=r.DataType,(0,a.ad)("reportparameter_datatype",f,m)))),v&&a.r.createElement("div",{className:a.a5},a.r.createElement(a.B,(0,a.a6)({},h,{icon:(0,a.h)(a.a7),onClick:function(e){e.stopPropagation(),s&&s(o)}})),a.r.createElement(a.B,(0,a.a6)({},h,{disabled:!c,icon:(0,a.h)(a.ae),title:m("components:dataPanel.titleMoveParameterDown","Move Down"),onClick:function(e){e.stopPropagation(),c&&c(o)}})),a.r.createElement(a.B,(0,a.a6)({},h,{disabled:!l,icon:(0,a.h)(a.af),title:m("components:dataPanel.titleMoveParameterUp","Move Up"),onClick:function(e){e.stopPropagation(),l&&l(o)}})))))},ur=function(e){var t=e.reportParameters,n=e.onClick,r=e.onDelete,o=e.onMoveUp,i=e.onMoveDown,s=(0,a.a0)("components").t;return a.r.createElement(a.r.Fragment,null,0===t.length&&a.r.createElement("span",{className:a.ag},s("dataPanel.textNoParameters","Report has no parameters")),t.map((function(e,s){var l={parameter:e,index:s,onClick:n,onDelete:r,onMoveUp:s>0?o:null,onMoveDown:s<t.length-1?i:null};return a.r.createElement(cr,(0,a.a6)({key:e.Name},l))})))},dr=function(e){var t=e.readOnlyDocument,n=e.hiddenMenuItems,r=void 0===n?{}:n,o=e.badge,i=e.controlItems,s=e.onMenuItemSelect,l=e.onCreate,c=e.onOpen,u=e.onSave,d=e.onSaveAs,p=e.onPreview,m=(0,a.ah)().selectors,f=m.coreState,v=m.report,h=(0,a.G)(f),g=h.reportName,y=h.dirty,b=h.appBarItemId,E=h.contextActions,w=(0,a.G)(v),S=w.future,_=w.past,P=(0,a.ai)(),C=(0,a.a0)("components").t,O=0!==(null!=_?_:[]).length,T=0!==(null!=S?S:[]).length,x=[{type:"button",dataAid:"undo-button",icon:(0,a.h)(a.aj),onClick:function(){return P(a.as.ActionCreators.undo())},title:C("appBar.titleUndo","Undo"),disabled:!O},{type:"button",dataAid:"redo-button",icon:(0,a.h)(a.ak),onClick:function(){return P(a.as.ActionCreators.redo())},title:C("appBar.titleRedo","Redo"),disabled:!T},l&&{type:"splitter"},l&&{type:"button",dataAid:"create-button",icon:(0,a.h)(a.al),onClick:l,title:C("appBar.titleNew","New")},c&&{type:"splitter"},c&&{type:"button",dataAid:"open-button",icon:(0,a.h)(a.am),onClick:c,title:C("appBar.titleOpen","Open")},u&&{type:"splitter"},u&&{type:"group",items:[{type:"button",dataAid:"save-button",icon:(0,a.h)(a.an),onClick:u,title:C("appBar.titleSave","Save"),disabled:t},d&&{type:"dropdown",dataAid:"save-as-dropdown",menuWidth:"auto",hiddenChevron:!0,icon:(0,a.h)(a.ao),items:[{type:"button",icon:(0,a.h)(a.ap),text:C("appBar.btnSaveAs","Save As"),value:d}],onSelect:function(e){return e()}}]},p&&{type:"splitter"},p&&{type:"button",dataAid:"preview-button",icon:(0,a.h)(a.aq),text:C("appBar.btnPreview","Preview"),onClick:p}],k=E.filter((function(e){return"group"===e.type})).reverse(),I=(0,a.ar)([r.file?null:{id:"File",text:C("appBar.btnFile","File")},{id:"Home",text:C("appBar.btnHome","Home")},r.insert?null:{id:"Insert",text:C("appBar.btnInsert","Insert")}],k.map((function(e){var t=e.text;return{id:t,text:t}})),[r.parameters?null:{id:"Parameters",text:C("appBar.btnParameters","Parameters")}]).filter((function(e){return!!e})),D=I.some((function(e){return e.id===b}))?b:"Home",A={id:"main_appbar",dataAid:"main-app-bar",size:"small",title:g||"",subtitle:y?C("appBar.textUnsavedChanges","Unsaved Changes"):void 0,badge:o,mainItems:x,controlItems:i,menuItems:I,selectedMenuItemId:D,onMenuItemSelect:s};return a.r.createElement(N,(0,a.a6)({},A))},pr=function(e){var t=e.disabled,n=e.custom,r=function(){var e=(0,a.ah)().selectors.coreState,t=(0,a.G)(e);return{reportName:t.reportName,dirty:t.dirty}}(),o=r.reportName,i=r.dirty,s=(0,a.a0)("components").t;return a.r.useEffect((function(){if(!t){var e=(o||s("title.textUntitled","Untitled"))+(i?" *":"");document.title=(null==n?void 0:n({reportName:o,dirty:i}))||e}}),[t,n,o,i]),null},mr=function(e){var t=e.identifiers.instanceId,n=e.focusTimer,r=e.i18n,o=e.documentTitle,i=e.coreContext,s=e.children,l=!0===(null==n?void 0:n.disabled),c=(0,a._)(a.r.useState(i.settings),2),u=c[0],d=c[1],p=function(e){e.instanceId===t&&d(a.av.of(t).get())};return a.r.useEffect((function(){return document.addEventListener("coreSettingsUpdated",p),function(){document.removeEventListener("coreSettingsUpdated",p),(0,a.at)(t),a.H.destroy(t)}}),[]),a.r.createElement(Cn,{i18n:r},a.r.createElement(Pn,{rootId:t,gridTemplate:"designer",withFocusTimer:!l},a.r.createElement(pr,(0,a.a6)({},o)),a.r.createElement(a.au.Provider,{value:(0,a.a6)((0,a.a6)({},i),{settings:u})},s)))},fr=function(e){var t=e.type,n=e.icon,r=e.text,o=e.onClick,i=(0,a._)((0,a.V)({item:{type:"toolboxitem",reportItemType:t,nameTemplate:(0,a.aA)(t)},collect:function(e){return{isDragging:e.isDragging()}}}),3),s=i[0].isDragging,l=i[1],c=i[2];a.r.useEffect((function(){c((0,a.W)(),{captureDraggingState:!0})}),[]);var u=function(e,i){return void 0===e&&(e=t),a.r.createElement("div",{className:"wd-toolbox-item",key:e,style:i,onClick:o,title:r,"data-aid":r},a.r.createElement(a.n,{icon:(0,a.h)(a.aB[t])||n,customCSS:"gc-btn__icon"}),a.r.createElement("span",{className:"gc-btn__text"},r))};if(function(){return t=(e=window.navigator.userAgent).indexOf("Trident/"),n=e.indexOf("MSIE "),!(t>-1||n>-1||window.navigator.userAgent.includes("Edge/"));var e,t,n}())return l(u());var d=(0,a.aC)(s);return a.r.createElement("div",null,l(u(r+"_draggable",d)),s&&u())},vr=function(e){var t=e.toggleText;return a.r.createElement("div",{className:"wd-menu-toggle"},a.r.createElement("div",{className:"wd-menu-toggle__burger"},a.r.createElement("div",null,a.r.createElement("span",null),a.r.createElement("span",null),a.r.createElement("span",null))),a.r.createElement("span",{className:"wd-menu-toggle__text"},t))},hr=function(e){var t=e.customLogo,n=e.text,r=t?{type:"svg",content:a.r.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",dangerouslySetInnerHTML:{__html:t}})}:(0,a.h)(a.aK);return a.r.createElement("div",{className:"wd-menu-logo"},a.r.createElement(a.n,{icon:r,customCSS:"wd-menu-logo__icon"}),a.r.createElement("span",{className:"wd-menu-logo__text"},n))},gr=function(e){var t,n=e.appName,r=e.hiddenElements,o=void 0===r?{}:r,i=e.customLogo,s=e.onToggle,l=(0,a.ah)(),c=l.selectors,u=c.coreState,d=c.report,p=l.settings.toolBoxContent,m=(0,a.G)(u),f=m.view,v=m.reportStyles,h=m.menu,g=h.panel,y=h.groupEditorAdvancedMode,b=(0,a.G)(d).present,E=(0,a.ai)(),w=(0,a.a0)("components").t,S=(0,a._)(a.r.useState({activePanelId:null,status:"collapsed",pinned:!1}),2),_=S[0],P=S[1],C=(0,a._)(a.r.useState({activePanelId:null,status:"collapsed"}),2),O=C[0],N=C[1],T=function(e){N((0,a.a6)((0,a.a6)({},O),{status:e?"panel":"collapsed",activePanelId:e})),g!==e&&E(function(e){return a.aw.action(a.ay,{panel:e})}(e))},x=function(e,t){return function(){var n=function(e){var t=e.status,n=e.pinned;return"expanded"!==t?"expanded":n?"panel":"collapsed"}(e);t((0,a.a6)((0,a.a6)({},e),{status:n})),s&&s(n)}},k={mode:"panel",size:"large",dataAid:"Menu",toggleContent:a.r.createElement(vr,{toggleText:w("menu.btnClose","Close")}),logo:{appBarId:"main_appbar",size:"small",content:a.r.createElement(hr,{text:n,customLogo:i})}},I=null;if("parameters"===f){var D=(0,a.a6)((0,a.a6)({},k),{items:(0,a.aJ)(E),activePanelId:void 0,status:_.status,pinned:_.pinned,onPanelChange:T,onToggleClick:x(_,P)});I=a.r.createElement(St,(0,a.a6)({},D))}else{var A=w("menu.btnReportExplorer","Explorer"),L=o.reportExplorer?null:a.r.createElement(j,{key:"report-explorer",id:"report-explorer",dataAid:A,toggle:{icon:(0,a.h)(a.aD),text:A,title:A},customScroll:!0},a.r.createElement(a.S,null,a.r.createElement(a.aE,{report:b,dispatch:E}))),z=w("menu.btnGroupEditor","Group Editor"),M=o.groupEditor?null:a.r.createElement(j,{key:"group-editor",id:"group-editor",dataAid:z,toggle:{icon:(0,a.h)(a.aF),text:z,title:z},customScroll:!0},a.r.createElement(a.aG,{advancedMode:y,item:b,toggleModeFn:function(){return E(a.aw.action(a.ax))},dispatch:E})),B=w("menu.btnLayerList","Layers"),R=[L,M,a.r.createElement(j,{key:"layer-list",id:"layer-list",dataAid:B,toggle:{icon:(0,a.h)(a.aH),text:B,title:B},customScroll:!0},a.r.createElement(a.aI,null))],G=o.toolbox?[]:(t=b.Type,a.aO.getToolboxItemsInfo(t,p).map((function(e){var t=e.type,n=e.icon,r=e.labelKey,o={type:t,icon:n,text:w("reportItems:"+r),onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e){E({type:a.aL,payload:{}});var t=e&&e.toLowerCase(),n={type:a.aM,payload:{Type:t,Name:(0,a.aA)(t),Style:(0,a.aN)(v,t)}};E(n),E({type:a.aP,payload:{}})}(t)}};return{type:"custom",content:a.r.createElement(fr,(0,a.a6)({},o))}})));D=(0,a.a6)((0,a.a6)({},k),{onPanelChange:T,items:G,activePanelId:O.activePanelId,status:O.status,pinned:O.pinned,onPinClick:function(){return N((0,a.a6)((0,a.a6)({},O),{pinned:!O.pinned}))},onToggleClick:x(O,N),pinBtnTitle:w("menu.titlePin","Pin")}),I=a.r.createElement(St,(0,a.a6)({},D),R)}return I},yr=function(e){return(0,a.aS)(e)||(0,a.aT)(e)||(0,a.aU)(e)},br=function(e){return(0,a.ar)(e).sort((function(e,t){return(e||"").localeCompare(t||"")}))},Er=function(e,t,n){if(0===(e||[]).length)return[];if(e.some((function(e){return e.Type!==a.aQ.textbox})))return[];var r=t||{},o=r.NamedItems,i=r.DataSets,s=o||[],l=i||[],c=[],u=e.map((function(e){return function(e,t){var n=t.find((function(t){return e.Name===t.name&&t.type===a.aQ.textbox})),r=n&&t.filter((function(e){return(e.level===n.level||(e.level===n.level-1||e.level===n.level-2)&&e.leftKey<=n.leftKey&&e.rightKey>=n.rightKey)&&yr(e.type)}))||[],o=r.length>0&&t.filter((function(e){return e.level<=n.level&&"grouping"===e.type&&e.name&&0!==r.filter((function(t){return t.level===e.level-1&&t.leftKey<=e.leftKey&&t.rightKey>=e.rightKey})).length}))||[],i=br(r.map((function(e){return e.name}))),s=br(o.map((function(e){return e.name})));return(0,a.ar)(i,s)}(e,s)})),d=a.aR.intersection.apply(a.aR,(0,a.ar)(u));c.push.apply(c,(0,a.ar)(d));var p=(0===c.length?l:l.filter((function(e){return e.Name===n.dataSetName}))).map((function(e){return e.Name}));return c.push.apply(c,(0,a.ar)(br(p))),c},wr=function(e,t){if(0===(e||[]).length)return[];if(e.some((function(e){return e.Type!==a.aQ.textbox})))return[];var n=(t||{}).NamedItems||[],r=[],o=e.map((function(e){return function(e,t){var n=t.find((function(t){return e.Name===t.name&&t.type===a.aQ.textbox})),r=n&&t.filter((function(e){return e.level===n.level-1&&e.leftKey<=n.leftKey&&e.rightKey>=n.rightKey&&yr(e.type)}))[0],o=r&&t.filter((function(e){return e.level===n.level&&"grouping"===e.type&&e.name})).filter((function(e){return e.level>r.level&&r.leftKey<=e.leftKey&&r.rightKey>=e.rightKey}))||[],i=(r?[r]:[]).map((function(e){return e.name})),s=br(o.map((function(e){return e.name})));return(0,a.ar)(i,s)}(e,n)})),i=a.aR.intersection.apply(a.aR,(0,a.ar)(o));return r.push.apply(r,(0,a.ar)(i)),r},Sr=function(e){var t=e.category,n=e.label;return t?t+" - "+n:n};var _r=function(e,t){return t("reportItems:"+a.aO.getBaseItemType(e))},Pr=function(e,t){var n=e.length&&_r(e[0].Type,t);if(!n)return"";var r=e.length>1&&e.some((function(e){return _r(e.Type,t)!==n}));return r&&e.every((function(e){return(0,a.bf)({Type:e.Type})}))&&t("components:propertyGrid.textReportItems","<Report Items>")||r&&t("components:propertyGrid.textMultipleTypes","<Multiple Types>")||n},Cr=function(){var e,t=(0,a.ah)(),n=t.instanceId,r=t.selectors,o=r.coreState,i=r.report,s=r.semanticModel,l=t.settings,c=l.expressionSyntax,u=l.fonts,d=(0,a.G)(o),p=d.propertyGrid,m=p.properties,f=p.properties,v=f.descriptors,h=f.objectValue,g=void 0===h?[]:h,y=f.objectPath,b=void 0===y?[]:y,E=f.defaultValue,w=void 0===E?[]:E,S=f.linkedProperties,_=f.path,P=d.preferences.advancedMode,C=d.theme,O=(0,a.a0)("components").t,N=(0,a.G)(s),T=(0,a.G)(i).present,x=T.$index,k=T.Type,I=x.DataSets,D=void 0===I?[]:I,A=x.DataSources,j=void 0===A?[]:A,L=x.Layers,z=void 0===L?[]:L,M=x.NamedItems,B=void 0===M?[]:M,R=(0,a._)(a.r.useState(null),2),G=R[0],F=R[1],V=(0,a.ai)(),U=(0,a.aY)(k,x,C,b[0],(null===(e=g[0])||void 0===e?void 0:e.Name)||""),H=null!==G&&S.length>0?S[G]:void 0,K=H?(0,a.a6)((0,a.a6)({},H),{path:_}):m,W=(H?H.descriptors:v).map((function(e){return e.map((function(e){return(0,a.aZ)(e,O)}))}));a.r.useEffect((function(){null!==G?!S.some((function(e,t){return t.toString()===G}))&&(_.length&&V(a.a_.resetPropertiesPath()),F(null)):_.length&&!g.length&&V(a.a_.resetPropertiesPath())}),[_,g,S,G]);var $=H?function(e,t){V((0,a.b0)(H.objectPath.map((function(n){return(0,a.b1)(n,e,t)}))))}:function(e,t){var n=Q(e);V((0,a.bg)(n,t))},Q=function(e){var t=e;return _.length&&(t=(0,a.bh)(t,_.map((function(e){return e.value})).join("."))),t},Z=function(e){var t=(0,a.ai)(),n=(0,a.ah)(),r=n.instanceId,o=n.settings.expressionEditorNodesFilter,i=(0,a.a0)().t;return function(n){if("dvchart_template"!==n.type){var s=function(e,t){var n=t.properties,r=t.index,o=t.reportType,a=t.setProperty,i=t.theme,s=t.validationContext;return{descriptor:e,objectPaths:n.objectPath,objectValues:n.objectValue,defaultValues:n.defaultValue,setProperty:a,theme:i,reportIndex:r,reportType:o,validationContext:s}}(n,e),l=a.H.of(r).open("expressionEditor",s);t(l)}else{var c=function(e,t,n,r){var o=t.properties,i=t.setProperty,s=(0,a.aW)(e,o.objectValue,o.defaultValue).value,l=[a.aX.dvchartTemplateConstants(o.objectValue,n,r)];return{title:Sr(e),subtitle:n("dialogs:expressionEditor.subtitle","Expression Editor"),value:s,treeNodes:l,fnNodes:[],onSave:function(t){return i(e,t),!0},customCSS:a.aV}}(n,e,i,o),u=a.H.of(r).open("textEditor",c);t(u)}}}({properties:K,reportType:k,index:x,validationContext:U,setProperty:$,theme:C}),X=function(e){V(a.H.of(n).open("dataVisualizer",{descriptor:e,properties:K,byPath:!!H}))},Y=a.r.useMemo((function(){return(0,a.a$)(T)}),[T]),J={setProperties:H?function(e){V((0,a.b0)(H.objectPath.map((function(t){return(0,a.b4)(t,e)}))))}:function(e,t,n,r){var o=e||[];if(_.length&&o.length>0){var i=_.map((function(e){return e.value})).join(".");o=o.map((function(e){return(0,a.a6)((0,a.a6)({},e),{descriptor:(0,a.bh)(e.descriptor,i)})}))}V((0,a.bi)(o,t,n,r))},setDataFieldProperty:H?function(e){var t=e.objectPath;return function(e,n){V((0,a.b0)(t.map((function(t){return(0,a.b1)(t,e,n)}))))}}(H):function(e,t,n,r,o){var i=Q(e);V((0,a.bj)(i,t,n,r,o))},drillPropertiesPath:function(e,t){V(a.a_.drillPropertiesPath(e,t))},getAreaByPath:function(e){return(0,a.b2)(T,e)},performTransaction:H?function(e){var t=e.objectPath;return function(e){var n=(e||[]).reduce((function(e,n){var r=n.type,o=n.payload;switch(r){case a.b5:var i=o.descriptor,s=o.value,l=t.map((function(e){return(0,a.b1)(e,i,s)}));e.push.apply(e,(0,a.ar)(l));break;case a.b3:var c=o.descriptorValuePairs,u=t.map((function(e){return(0,a.b4)(e,c)}));e.push.apply(e,(0,a.ar)(u));break;default:e.push(n)}return e}),[]);1===n.length?V(n[0]):n.length>1&&V((0,a.b0)(n))}}(H):function(e){var t=(e||[]).reduce((function(e,t){switch(t.type){case a.b5:var n=(0,a.bk)(t,{payload:{descriptor:{$apply:function(e){return Q(e)}}}});e.push(n);break;case a.b3:var r=(0,a.bk)(t,{payload:{descriptorValuePairs:{$apply:function(e){return e.map((function(e){return(0,a.a6)((0,a.a6)({},e),{descriptor:Q(e.descriptor)})}))}}}});e.push(r);break;default:e.push(t)}return e}),[]);1===t.length?V(t[0]):t.length>1&&V((0,a.b0)(t))}},q={fontFamily:u},ee=a.r.useMemo((function(){return{expressionSyntax:c,dataSets:D,dataSources:j,validationContext:U,dataScope:Y,semanticInfo:{semanticModel:N,allowRebalancing:!0,showAggregates:!0,showCalculatedFields:!0},editExpression:Z,showDataVisualizer:X}}),[D,j,H,m,b]),te={namedItems:B,selectedItemsInfo:((null==H?void 0:H.objectValue)||g).map((function(e,t){return{type:e.Type,name:e.Name,path:((null==H?void 0:H.objectPath)||b)[t]}}))},ne={layers:z},re={theme:C},oe=a.r.useMemo((function(){return{sortTarget:Er(g,x,Y),sortExpressionScope:wr(g,x)}}),[g,x,Y]),ae=_.length?[]:(0,a.ar)([{id:null,text:Pr(g,O)}],S.map((function(e,t){return{id:t.toString(),text:Pr(e.objectValue,O)}}))),ie={key:"",descriptors:W,objectValue:(null==H?void 0:H.objectValue)||g,defaultValue:(null==H?void 0:H.defaultValue)||w,propertyEditors:a.b6,displayMode:P?"advanced":"simple",tabs:ae.length?ae:void 0,selectedTabId:G,selectionName:function(){var e,t;return G&&H?(null===(e=ae[G])||void 0===e?void 0:e.text)||"":ae.length>0?ae[0].text||"":(null===(t=_[_.length-1])||void 0===t?void 0:t.title)||""}(),gridSearchPlaceholder:O("propertyGrid.placeholderSearchBox","enter property name here..."),closeSearchBtnTitle:"",setProperty:$,onTabSelect:function(e){G!==e&&F(e)},onBackClick:_.length>0?function(){V(a.a_.shrinkPropertiesPath())}:void 0};return a.r.createElement(a.b7.Provider,{value:J},a.r.createElement(a.b8.Provider,{value:q},a.r.createElement(a.b9.Provider,{value:ee},a.r.createElement(a.ba.Provider,{value:te},a.r.createElement(a.bb.Provider,{value:ne},a.r.createElement(a.bc.Provider,{value:re},a.r.createElement(a.bd.Provider,{value:oe},a.r.createElement(a.be,(0,a.a6)({},ie)))))))))},Or=function(e){var t=e.advancedMode,n=e.onToggleSetting,r=(0,a.a0)("components").t,o={dataAid:"properties-mode",items:[{type:"button",text:r("statusBar.btnShowAdvancedProperties","Show Advanced Properties"),value:!0,selected:t},{type:"button",text:r("statusBar.btnShowBasicProperties","Show Basic Properties"),value:!1,selected:!t}],text:r("statusBar.btnPropertiesMode","Properties Mode"),icon:(0,a.h)(a.bl),size:"small",background:"transparent",dropup:!0,hiddenChevron:!0,title:" ",onSelect:function(e){e!==t&&n("advancedMode")}};return a.r.createElement(a.D,(0,a.a6)({},o))},Nr=function(e){var t=e.snapToGrid,n=e.snapToLines,r=e.gridSize,o=e.withGridSizeEditor,i=e.onToggleSetting,s=e.onUpdateSetting,l=(0,a.a0)("components").t,c=a.r.useRef(null),u=function(e){s("gridSize",(0,a.bq)(e,"length")),c.current=null},d={block:!0,size:"small",position:"top"},p=function(e){return void 0===e&&(e=!0),l("common:"+(e?"textEnabled":"textDisabled"))},m={content:a.r.createElement("div",{className:"app-status-bar-panel"},o&&a.r.createElement("div",{className:"sbar-editor-container","data-aid":"grid-size"},a.r.createElement(a.bm,(0,a.a6)({},d,{label:l("statusBar.snapSettings.labelGridSize","Grid Size"),dataAid:"grid-size-label"}),a.r.createElement(a.bn,{id:"grid-size-editor",placeholder:" ",value:r,validate:function(e){var t=e&&a.br.isValidString((0,a.bq)(e,"length"))||!1;return c.current=t?e:null,t},onChange:u}))),a.r.createElement("div",{className:"sbar-editor-container","data-aid":"snap-to-grid"},a.r.createElement(a.bm,(0,a.a6)({},d,{label:l("statusBar.snapSettings.labelSnapToGrid","Snap To Grid"),dataAid:"snap-to-grid-label"}),a.r.createElement(a.bo,{customCSS:"snap-to-grid-toggle"+(t?" checked":""),size:"small",checked:t,onToggle:function(){return i("snapToGrid")},text:p(t)}))),a.r.createElement("div",{className:"sbar-editor-container","data-aid":"snap-to-guides"},a.r.createElement(a.bm,(0,a.a6)({},d,{label:l("statusBar.snapSettings.labelSnapToGuides","Snap To Guides")}),a.r.createElement(a.bo,{customCSS:"snap-to-guides-toggle"+(n?" checked":""),size:"small",checked:n,onToggle:function(){return i("snapToLines")},text:p(n)})))),icon:(0,a.h)(a.bp),size:"small",background:"transparent",dropup:!0,hiddenChevron:!0,menuWidth:200,onToggle:function(e){!e&&c.current&&u(c.current)},dataAid:"snap-settings"};return a.r.createElement(a.D,(0,a.a6)({},m))},Tr=function(e){var t=e.zoomPoints,n=e.hiddenElements,r=void 0===n?{}:n,o=e.onSetUnits,i=e.onZoomIn,s=e.onZoomOut,l=e.onSetZoom,c=e.onToggleSetting,u=e.onUpdateSetting,d=(0,a.ah)().selectors.coreState,p=(0,a.G)(d).preferences,m=p.showGrid,f=p.snapToGrid,v=p.snapToLines,h=p.gridSize,g=p.units,y=p.zoomFactor,b=p.advancedMode,E=(0,a.a0)("components").t,w={advancedMode:b,onToggleSetting:c},S={text:E("common:units."+g+".textShortName"),title:E("common:units."+g+".textFullName"),onClick:function(){switch(g){case"in":o("cm");break;case"cm":o("in")}},size:"small",background:"transparent",dataAid:"units-toggle"},_={zoomFactor:y,zoomPoints:t,onZoomIn:i,onZoomOut:s,onSetZoom:l},P={snapToGrid:f,snapToLines:v,gridSize:h,withGridSizeEditor:!r.gridSizeEditor,onToggleSetting:c,onUpdateSetting:u},C={title:E("statusBar.titleGrid","Grid"),icon:(0,a.h)(a.bs),onClick:function(){return c("showGrid")},size:"small",background:m?void 0:"transparent",customCSS:"gc-statusbar__btn--with-icon "+(m?"show-grid":"hide-grid"),dataAid:"grid-toggle"},O=[r.propertiesMode?null:a.r.createElement(Or,(0,a.a6)({key:"sb-props-mode"},w)),r.units?null:a.r.createElement(a.B,(0,a.a6)({key:"sb-units"},S)),r.zoom?null:a.r.createElement(a.bt,(0,a.a6)({key:"sb-zoom"},_)),r.snapSettings?null:a.r.createElement(Nr,(0,a.a6)({key:"sb-snap-settings"},P)),r.gridToggle?null:a.r.createElement(a.B,(0,a.a6)({key:"sb-grid-toggle"},C))],N={customCSS:"app-status-bar",dismissAllLabel:E("notifications.btnDismissAll"),dismissLabel:E("notifications.btnDismiss"),expandTitle:E("notifications.titleExpand"),collapseTitle:E("notifications.titleCollapse"),errorCategoryLabel:function(e){return E("notifications.headingError","Error",{count:e})},warningCategoryLabel:function(e){return E("notifications.headingWarning","Warning",{count:e})},infoCategoryLabel:function(e){return E("notifications.headingNotification","Notification",{count:e})}};return a.r.createElement(Wt,(0,a.a6)({},N),O)},xr=function(){return a.r.createElement(Ct,(0,a.a6)({},{dataAid:"context-menu",size:"small"}))};function kr(e,t,n){return function(r,o,i,s,l){var c,u=r.Type,d=r.Name,p=null===(c=r)||void 0===c?void 0:c.DataSetName,m=p?t.filter((function(e){return e.Name===p})):i,f={key:d+"-glyph",item:r,path:o,dataSets:m,parentBackgroundColor:s,theme:e},v=a.aO.getDescriptor(u),h=a.r.createElement(v.glyph||a.bw.glyph,f,{});return l&&(null==m?void 0:m.length)&&[a.aQ.checkbox,a.aQ.textbox,a.aQ.image,a.aQ.inputField].includes(u)?a.r.createElement(a.bx,(0,a.a6)({},n,{type:u,path:o,bgColor:s,selected:(0,a.by)(r)}),h):h}}const Ir=({children:e})=>a.r.createElement("div",{className:"panel-group ar-shutter"},a.r.createElement("div",{className:"panel panel-default ar-shutter-content"},a.r.createElement("div",{className:"ar-shutter-body"},e))),Dr=({text:e,onClick:t})=>a.r.createElement("div",{key:"header-button",className:"panel-heading ar-with-buttons left"},a.r.createElement("button",{type:"button",className:"btn btn-default gc-rounded",onClick:t},a.r.createElement(a.n,{icon:(0,a.h)(a.bO),customCSS:"wd-svg"})),e);function Ar(e){const t=e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.Name]:Object.assign(Object.assign({},t),{level:0,children:[]})})),{}),n=[];e.forEach((e=>{var r;const o=t[e.Name],i=null===(r=(0,a.bQ)(o.Query.DataSourceName))||void 0===r?void 0:r.dataset,s=null!=i?t[i]:null;null==s?n.push(o):s.children.push(o)}));const r=[];return function e(t,n){t.forEach((t=>{var{children:o}=t,i=(0,a.bE)(t,["children"]);r.push(Object.assign(Object.assign({},i),{level:n})),e(o,n+1)}))}(n,0),r}const jr=({report:e,designer:t,dataPanel:n,dataSourceTemplates:r})=>{const o=e.present;return{reportParameters:o.ReportParameters,dataSources:o.DataSources,datasetList:Ar(o.DataSets),$index:o.$index,theme:t.theme,reportType:o.Type,reportId:t.reportId,panel:n,templates:r}},Lr=()=>{var e,t;const[n,r,o,i,s]=[!0,!0,!0,!0,!0],l=(0,a.G)(jr),{reportParameters:c,dataSources:u,datasetList:d,reportId:p,panel:m,templates:f}=l,v=(0,a.bE)(l,["reportParameters","dataSources","datasetList","reportId","panel","templates"]),h=(0,a.ai)(),g=e=>()=>h(a.bF.createDataSource(e)),y={};r&&f&&f.length>0&&(1===f.length?y.onAdd=g(f[0].id):y.customAdd=a.r.createElement(a.D,Object.assign({},{text:a.bG.t("dataPanel.addCmdTitle","Add"),size:"small",background:"transparent",icon:(0,a.h)(a.bH),hiddenChevron:!0},{items:f.map((({title:e,id:t})=>({type:"button",icon:{type:"font",iconCssClass:"mdi database-add"},text:e,onClick:g(t)})))})));const b=e=>{const{$templateId:t}=e;return null==f?void 0:f.find((e=>e.id===t))},E=e=>{var t,n;const r=(0,a.bP)(e);return null!==(n=null===(t=b(e))||void 0===t?void 0:t.datasets)&&void 0!==n?n:"JSON"===r||"JSONEMBED"===r?[a.bY]:[]},w=e=>{var t;const n=null===(t=(0,a.bQ)(e.Query.DataSourceName))||void 0===t?void 0:t.dataset;if("string"==typeof n){const e=d.find((e=>e.Name===n));return e?w(e):null}return e},S=e=>()=>h(a.bF.deleteDataSource(e.Name)),_=(e,t)=>{const n=E(e).find((e=>e.id===t));n&&h(a.bF.addDataset(t,n,e.Name))};function P(e){if(e){const t=(0,a.bP)(e);return"JSON"===t||"JSONEMBED"===t}return!1}const C={title:a.bG.t("dataPanel.commonValuesLabel","Common Values"),collapsed:!m.commonValuesExpanded,items:[{type:"button",icon:(0,a.h)(a.bI,{rotate:m.commonValuesExpanded?void 0:"180"}),onClick:()=>h(a.bJ.toggleCommonValues())}]},O={commonNodesFilter:a.bX.commonValueNodesFilter};return a.r.createElement("div",{className:"ar-data-panel"},"param"!==(null===(e=m.activeEditor)||void 0===e?void 0:e.type)&&a.r.createElement("div",{className:"panel-group"},n&&(r||u.length>0)&&a.r.createElement(a.bK,Object.assign({title:a.bG.t("dataPanel.dataSourcesLabel","Data Sources")},y),0===u.length&&a.r.createElement("span",{className:"wd-sidebar-panel__placeholder"},a.bG.t("dataPanel.noDataSources","Report has no data sources")),u.map((e=>a.r.createElement(lr,Object.assign({key:e.Name},(e=>{var t;const n=E(e),r="TESTING"===e.ConnectionProperties.DataProvider,o=!1!==(null===(t=b(e))||void 0===t?void 0:t.canEdit)&&!r&&P(e),i=(0,a.bP)(e),s={dataSource:Object.assign(Object.assign({},e),{$dataProvider:i,ConnectionProperties:Object.assign(Object.assign({},e.ConnectionProperties),{DataProvider:i})}),onEdit:o?()=>(e=>{const t={mode:"edit",initialData:e,usedDatasourceNames:u.map((e=>e.Name))};h(a.bZ.open("datasource",t))})(e):void 0,onDelete:S(e)};if(n.length>0&&!r)if(1===n.length)s.onAddDataSet=()=>_(e,n[0].id);else{const t=n.map((({title:t,id:n})=>({type:"button",icon:{type:"font",iconCssClass:"mdi mdi-database-add"},text:t,onClick:()=>_(e,n)})));s.customAdd=a.r.createElement(a.D,{items:t,text:"",size:"small",background:"transparent",icon:(0,a.h)(a.bH),hiddenChevron:!0})}return s})(e)))))),o&&a.r.createElement(a.bK,{title:a.bG.t("dataPanel.dataSetsLabel","Data Sets")},0===d.length&&a.r.createElement("span",{className:"wd-sidebar-panel__placeholder"},a.bG.t("dataPanel.noDataSets","Report has no data sets")),d.map(((e,t)=>a.r.createElement(a.bL,Object.assign({key:e.Name},((e,t)=>{var n;const r=u.find((t=>t.Name===e.Query.DataSourceName)),o="TESTING"===(null==r?void 0:r.ConnectionProperties.DataProvider),i=(0,a.bQ)(e.Query.DataSourceName),s=!1!==(null===(n=(e=>{var t;const n=w(e),r=null==u?void 0:u.find((e=>{var t;return e.Name===(null===(t=null==n?void 0:n.Query)||void 0===t?void 0:t.DataSourceName)}));if(r){const e=b(r),{$templateId:o}=n;return null===(t=null==e?void 0:e.datasets)||void 0===t?void 0:t.find((e=>e.id===o))}})(e))||void 0===n?void 0:n.canEdit)&&P(function(e,t,n){if(n)return n;const r=w(e);return r?t.find((e=>e.Name===r.Query.DataSourceName)):void 0}(e,u,r))&&!o;return{dataSet:e,expanded:m.expandedDatasetName===e.Name,disableEdit:!s,onClick:()=>{return t=e,h(a.bJ.toggleExpandDataSet(t.Name));var t},onDelete:()=>h((0,a.bM)(e)),basedOnOverride:null!=i?"":void 0,onEdit:()=>{return t=e,h(a.bF.editDataset(t.Name));var t},index:t,editParameter:()=>{},customCss:"dataset-list-level-"+e.level}})(e,t)))))),i&&a.r.createElement(a.bK,{title:a.bG.t("dataPanel.parametersLabel","Parameters"),onAdd:function(){const e=a.bG.t("nameTemplates.reportParameter","Parameter"),t=(0,a.bR)(e,c.map((e=>e.Name))),n=(0,a.bS)(t,{});h((0,a.bT)(n)),h(a.bJ.editParameter(c.length))}},a.r.createElement(ur,{reportParameters:c,onClick:(e,t)=>h(a.bJ.editParameter(t)),onDelete:e=>h((0,a.bU)(e)),onMoveUp:e=>{e>0&&h((0,a.bV)(e))},onMoveDown:e=>{e<c.length-1&&h((0,a.bW)(e))}})),s&&a.r.createElement(a.bK,Object.assign({},C),a.r.createElement(sr,Object.assign({},O)))),"param"===(null===(t=m.activeEditor)||void 0===t?void 0:t.type)&&a.r.createElement("div",{className:"ar-panel-overlay-container show",id:"parameter-editor-shutter"},a.r.createElement(Ir,null,a.r.createElement(Dr,{text:a.bG.t("dataPanel.editParameter","Edit parameter"),onClick:()=>h(a.bJ.cancelEditParameter())}),m.activeEditor.parameterIndex<c.length&&a.r.createElement(a.bN,{parameterIndex:m.activeEditor.parameterIndex,validationContext:function(e){const t="ReportParameters."+e;return(0,a.aY)(v.reportType,v.$index,v.theme,t)}(m.activeEditor.parameterIndex)}))))},zr=()=>{const{state:e,open:t,updateDialog:n,dispatch:r,closeDialog:o}=(0,a.J)("datasource"),{properties:i,provider:s,name:l,initialState:c}=e;function u(t){const n=function e(t){const{properties:n}=t;if("raw"===n.type)return n.connectionString;if("parseError"===n.type)throw new Error("Unexpected properties state");return e((0,a.c4)(t,a.c1.setSettingsMode("raw")))}(e);return(0,a.bk)(t,{Name:{$set:l},ConnectionProperties:{DataProvider:{$set:s},ConnectString:{$set:n}}})}const d=()=>o(),{usedDatasourceNames:p}=c,m=(0,a.b_)("^\\p{L}[\\p{L}\\p{N}_]*$","i"),f=e=>!(null==e||""===e||!m.exec(e)||null!=p&&p.includes(e)),v=f(l)&&("raw"===i.type||"parsed"===i.type),h="parsed"===i.type?a.bG.t("dataSourceDialog.btnConnectionString","Connection String"):a.bG.t("dataSourceDialog.btnProperties","Properties"),g={open:t,title:l,subtitle:a.bG.t("dataSourceDialog.subtitle","Edit Data Source"),onClose:d,controls:{align:"spread",left:[{text:h,accent:"full",onClick:()=>{"parseError"!==i.type&&n(a.c1.setSettingsMode("raw"===i.type?"parsed":"raw"))}},{text:a.bG.t("dataSourceDialog.btnExportTemplate","Export..."),onClick:()=>r(a.bZ.open("exportTemplate",{type:"datasource",value:e}))}],right:[{text:a.bG.t("dialogs.saveChanges","Save Changes"),accent:"full",onClick:()=>{if("parseError"!==i.type){switch(c.mode){case"edit":{const e=u(c.initialData);r((0,a.c3)(c.initialData.Name,e));break}default:{const e=u(c.template);r((0,a.c2)(e));break}}o()}},disabled:!v},{text:a.bG.t("dialogs.cancel","Cancel"),onClick:d}]},hideCloseButton:!0,customCSS:"ed-datasource-dialog"};return a.r.createElement(a.j,Object.assign({},g),"parseError"===i.type&&a.r.createElement(a.b$,{level:"error",title:a.bG.t("dataSourceDialog.parseErrorTitle","Incorrect connection string"),details:a.r.createElement("span",null,i.errors.join(", ")),textClose:a.bG.t("dataSetDialog.alertTextClose","Close"),textExpand:a.bG.t("dataSetDialog.alertTextExpand","Expand"),textCollapse:a.bG.t("dataSetDialog.alertTextCollapse","Collapse")}),a.r.createElement("div",{className:"ed-datasource-dialog__content"},a.r.createElement(a.c0,Object.assign({},{name:l,provider:s,properties:i,validateName:f},{dispatch:n}))))},Mr=()=>{const{open:e,closeDialog:t,state:{json:n}}=(0,a.J)("exportTemplate"),r={open:e,title:a.bG.t("exportTemplateDialog.title","Export Template"),controls:{align:"right",buttons:[{text:a.bG.t("exportTemplateDialog.closeBtnText","Close"),onClick:t}]},onClose:t,customCSS:"gcs-zi"};return a.r.createElement(a.j,Object.assign({},r),a.r.createElement(a.c5,{height:"300px",width:"100%",value:n}))};var Br=(0,a.c6)((function(e,t){t.hot=function(e){return e}}));const Rr=(e=null,t=null)=>{const n=null===e||null===t;return{saveAllowed:!n,saveAsAllowed:n}},Gr=({designer:{badge:e,contextActions:t,dirty:n,controlItems:r,reportId:o,reportName:a},report:i})=>({contextActions:t,badge:e,dirty:n,controlItems:r,reportId:o,reportName:a,report:i}),Fr=({onMenuItemSelect:e,showButtons:t,onOpenReport:n,onCreateReport:r})=>{const{badge:o,dirty:i,controlItems:s,reportId:l,reportName:c}=(0,a.G)(Gr),u=(0,a.ai)(),{saveAllowed:d,saveAsAllowed:p}=Rr(l,c),m=t.preview?()=>u((0,a.c7)()):void 0,f=t.new?r:void 0,v=t.open?n:void 0,h=t.save?()=>u((()=>{if(d){if(!i)return;u((0,a.c8)(null,!0))}else u((0,a.c8)(null,!1))})):void 0,g=t.saveAs?()=>u((()=>{u((0,a.c8)(null,!1))})):void 0,y=s.map((e=>{if("button"===e.type&&e.icon&&"svg"===e.icon.type){const t=a.r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",dangerouslySetInnerHTML:{__html:e.icon.content||""}});return Object.assign(Object.assign({},e),{icon:Object.assign(Object.assign({},e.icon),{content:t})})}return"about"===e.type?{type:"button",icon:(0,a.h)(a.c9),title:a.bG.t("menu.about"),onClick:()=>u(a.bZ.open("about"))}:e})),b={badge:o||void 0,readOnlyDocument:(d||p)&&!i,hiddenMenuItems:{file:!t.file,insert:!0,parameters:!0},onMenuItemSelect:e,controlItems:y,onPreview:m,onOpen:v,onCreate:f,onSave:h,onSaveAs:g};return a.r.createElement(dr,Object.assign({},b))},Vr=({report:{present:e},designer:{propertyGrid:{properties:t}}})=>({report:e,properties:t}),Ur=({dataScope:e})=>{const{state:{valuePath:t}}=(0,a.ca)("filtersEditor"),{report:n,properties:r}=(0,a.G)(Vr),{DataSets:o,ReportParameters:i}=n.$index,s=(e,n)=>{const r=(0,a.cc)(t)(e);return"filter"!==(null==r?void 0:r.Type)?null:{filters:r,reportItem:e,path:n?`${n}.${t}`:t}},{objectValue:l,linkedProperties:c,objectPath:u}=r;let d=null;1===l.length&&(d=s(l[0],u[0]),(null==d?void 0:d.filters)||1!==c.length||(d=s(c[0].objectValue[0],c[0].objectPath[0])));const p=i||[];let m,f,v=!1;e.dataSetName&&(m=o.find((t=>t.Name===e.dataSetName))),m||([m]=o,v=!0),e.parentDataSetName&&(f=o.find((t=>t.Name===e.parentDataSetName)));const h={reportItem:null==d?void 0:d.reportItem,filters:null==d?void 0:d.filters,valuePath:t,fullPath:(null==d?void 0:d.path)||"",parameters:p,dataSet:m,needSetDataSetName:v,parentDataSet:f};return a.r.createElement(a.cb,Object.assign({},h))},Hr=({report:{present:e},designer:{theme:t}})=>({report:e,theme:t}),Kr=()=>{const e=(0,a.ai)(),{report:t,theme:n}=(0,a.G)(Hr),{DataSources:r,DataSets:o,ReportParameters:i}=t.$index,{state:{paramName:s,filterValuePath:l}}=(0,a.ca)("editParameter"),c={reportType:t.Type,reportParameters:i,paramName:s,filterValuePath:l,dispatch:e,theme:n,index:t.$index,dataSources:r,dataSets:o};return a.r.createElement(a.cd,Object.assign({},c))},Wr=()=>{const e={position:"bottom-left",autoHideTimeout:5e3,rounded:!0,showDetailsLabel:a.bG.t("notificationPanel.showDetails"),dismissAllLabel:a.bG.t("notificationPanel.dismissAll"),dismissLabel:a.bG.t("notificationPanel.dismiss"),expandTitle:a.bG.t("notificationPanel.expand"),collapseTitle:a.bG.t("notificationPanel.collapse"),errorCategoryLabel:e=>1===e?a.bG.t("notificationPanel.oneError"):a.bG.t("notificationPanel.multipleErrors"),warningCategoryLabel:e=>1===e?a.bG.t("notificationPanel.oneWarning"):a.bG.t("notificationPanel.multipleWarnings"),infoCategoryLabel:e=>1===e?a.bG.t("notificationPanel.oneNotification"):a.bG.t("notificationPanel.multipleNotifications")};return a.r.createElement(Me,Object.assign({},e))},[$r]=(0,a.ce)("wd-app-overlay"),Qr=({designer:{overlay:e}})=>e,Zr=()=>{const{show:e,message:t}=(0,a.G)(Qr);return e?a.r.createElement("div",{className:$r},a.r.createElement("div",{className:"loader-circle"}),t&&a.r.createElement("span",null,t)):null},Xr=({designer:{preferences:e,view:t},report:n})=>({preferences:e,report:n,view:t}),Yr=()=>{const{view:e}=(0,a.G)(Xr),t=(0,a.ai)(),n="parameters"===e,r={zoomPoints:a.cf,hiddenElements:{propertiesMode:n||!(0,a.cg)(),units:n||!(0,a.ch)(),zoom:n||!a.bu.zoom,gridToggle:n||!(0,a.ci)(),gridSizeEditor:n||!(0,a.cj)(),snapSettings:n},onSetUnits:e=>t((0,a.ck)(e)),onToggleSetting:e=>t((0,a.cl)(e)),onUpdateSetting:(e,n)=>t((0,a.cm)(e,n)),onZoomIn:()=>t((0,a.cn)()),onZoomOut:()=>t((0,a.co)()),onSetZoom:e=>t((0,a.cp)(e))};return a.r.createElement(Tr,Object.assign({},r))},[Jr,,qr]=(0,a.ce)("wd-viewer-container"),[eo]=qr("content"),[to,,no]=(0,a.ce)("wd-vc-header"),[ro]=no("title"),[oo]=no("name"),ao=({viewerSettings:e,onClose:t})=>{const n=e?e.reportInfo.name:"",r=!!e&&e.reportInfo.isTemporary,o=e?e.applicationTitle:"",i={icon:(0,a.h)(a.cq),accent:"full",background:"transparent",size:"large",layout:"horizontal",textAlign:"center",onClick:t,id:"viewer-container-button-back"},s={size:"large",textSize:"large",uppercase:!1,strikeThrough:!1},l=Object.assign(Object.assign({},s),{text:`${n}${r?" *":""}`,title:n,align:"center",customCSS:oo}),c=Object.assign(Object.assign({},s),{text:o,customCSS:ro});return a.r.createElement("div",{className:Jr,style:{display:e?"":"none"}},a.r.createElement("div",{className:to},a.r.createElement(a.B,Object.assign({},i)),a.r.createElement(a.cr,Object.assign({},c)),a.r.createElement(a.cr,Object.assign({},l))),a.r.createElement("div",{id:"report-viewer-app",className:eo}))},io=({aboutInfo:{applicationTitle:e,applicationVersion:t,productTitle:n,productVersion:r,coreVersion:o,copyright:i},helpInfo:s})=>{return a.r.createElement("div",{className:"app-about"},e&&t?a.r.createElement(a.r.Fragment,null,a.r.createElement("p",{className:"app-name"},e),a.r.createElement("p",{className:"app-version"},a.bG.t("about.applicationVersion",{applicationVersion:t})),o&&a.r.createElement("p",{className:"app-version"},a.bG.t("about.coreVersion",{coreVersion:o}))):null,n&&r?[a.r.createElement("p",{key:"productName",className:"product-name"},n),a.r.createElement("p",{key:"appVersion",className:"product-version"},(l=r,a.bG.t("about.version",{versionNumber:l})))]:null,i?a.r.createElement("p",{key:"copyright",className:"copyright"},i):null,s.map(((e,t)=>(({title:e,link:t},n)=>t?[e?a.r.createElement("p",{key:`${e}_title_${n}`,className:"product-help-title"},e):null,a.r.createElement("p",{key:`${e}_link_${n}`,className:"product-help-link"},a.r.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t))]:null)(e,t))));var l},so=()=>{const{open:e,closeDialog:t}=(0,a.J)("about"),n={open:e,title:a.bG.t("about.title",{applicationTitle:(0,a.cs)()}),controls:{align:"right",buttons:[{text:a.bG.t("about.close"),onClick:t}]},onClose:t,customCSS:"gcs-zi",shouldCloseOnOverlayClick:!1};return a.r.createElement(a.j,Object.assign({},n),a.r.createElement(io,{aboutInfo:a.ct.getAboutInfo(),helpInfo:a.ct.getHelpInfos()}))},lo="ctrl+z",co="ctrl+y",uo={undo:()=>a.as.ActionCreators.undo(),redo:()=>a.as.ActionCreators.redo(),remove:e=>{var t;if(!e)return null;const n=e.actions&&e.actions.find((e=>"delete"===e.type&&e.enabled));return null!==(t=null==n?void 0:n.action)&&void 0!==t?t:null},cut:e=>e&&(0,a.cu)(e.report).every(a.bf)?(0,a.cv)():null,copy:e=>e&&(0,a.cu)(e.report).every(a.bf)?(0,a.cw)():null,paste:e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.clipboard)||void 0===t?void 0:t.content)||void 0===n?void 0:n.length)?(0,a.cx)():null},createReport:e=>{const{showFileView:t,onCreateReport:n}=e||{};return n||t&&t("new")||null},openReport:e=>{const{showFileView:t,onOpenReport:n}=e||{};return n||t&&t("open")||null},saveReport:e=>{const{canSave:t,saveReport:n}=e||{};return t&&"function"==typeof n&&n||null},zoomIn:()=>(0,a.cn)(),zoomOut:()=>(0,a.co)(),defaultZoom:()=>(0,a.cp)(1)},po={[lo]:uo.undo,[co]:uo.redo,delete:uo.remove},mo={"ctrl+c":uo.copy,"ctrl+v":uo.paste,"ctrl+x":uo.cut},fo={"ctrl+e":uo.createReport,"ctrl+o":uo.openReport,"ctrl+s":uo.saveReport},vo={"ctrl+0":uo.defaultZoom,"ctrl+equals":uo.zoomIn,"ctrl+add":uo.zoomIn,"ctrl+minus":uo.zoomOut,"ctrl+subtract":uo.zoomOut,"ctrl+wheel_up":uo.zoomIn,"ctrl+wheel_down":uo.zoomOut},ho=(e,t)=>{const{lockLayout:n,disableBuiltInReportHotkeys:r}=null!=t?t:{lockLayout:!1,disableBuiltInReportHotkeys:!1},o=function(e,t){let n=po[e];return n||(!t.lockLayout&&(n=mo[e],n)||!t.disableBuiltInReportHotkeys&&(n=fo[e],n)||a.bu.zoom&&(n=vo[e]),n)}(e,{lockLayout:n,disableBuiltInReportHotkeys:r});return o?o(t):null},go={[lo]:uo.undo,[co]:uo.redo},yo=["","","","cancel","","","help","","back_space","tab","","","clear","enter","enter_special","","shift","control","alt","pause","caps_lock","kana","eisu","junja","final","hanja","","escape","convert","nonconvert","accept","modechange","space","page_up","page_down","end","home","left","up","right","down","select","print","execute","printscreen","insert","delete","","0","1","2","3","4","5","6","7","8","9","colon","semicolon","less_than","equals","greater_than","question_mark","at","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","os_key","","context_menu","","sleep","numpad0","numpad1","numpad2","numpad3","numpad4","numpad5","numpad6","numpad7","numpad8","numpad9","multiply","add","separator","subtract","decimal","divide","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","f13","f14","f15","f16","f17","f18","f19","f20","f21","f22","f23","f24","","","","","","","","","num_lock","scroll_lock","win_oem_fj_jisho","win_oem_fj_masshou","win_oem_fj_touroku","win_oem_fj_loya","win_oem_fj_roya","","","","","","","","","","circumflex","exclamation","double_quote","hash","dollar","percent","ampersand","underscore","open_paren","close_paren","asterisk","plus","pipe","hyphen_minus","open_curly_bracket","close_curly_bracket","tilde","","","","","volume_mute","volume_down","volume_up","","","semicolon","equals","comma","minus","period","slash","back_quote","","","","","","","","","","","","","","","","","","","","","","","","","","","open_bracket","back_slash","close_bracket","quote","","meta","altgr","","win_ico_help","win_ico_00","","win_ico_clear","","","win_oem_reset","win_oem_jump","win_oem_pa1","win_oem_pa2","win_oem_pa3","win_oem_wsctrl","win_oem_cusel","win_oem_attn","win_oem_finish","win_oem_copy","win_oem_auto","win_oem_enlw","win_oem_backtab","attn","crsel","exsel","ereof","play","zoom","","pa1","win_oem_clear",""];var bo,Eo;const wo=null!==(Eo=null===(bo=null===navigator||void 0===navigator?void 0:navigator.platform)||void 0===bo?void 0:bo.toUpperCase().includes("MAC"))&&void 0!==Eo&&Eo,So=e=>wo?e.metaKey:e.ctrlKey,_o=e=>{let t="";return So(e)&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),t};var Po=function(e,t,n){const r=(e=>{let t=_o(e);return e.key&&(t+=yo[e.keyCode]),t})(e);let o=null;switch(t){case"designer":o=ho(r,n)||(0,a.cz)(r,n);break;case"parameters":o=(e=>{const t=go[e];return t?t():null})(r)||(0,a.cy)(r);break;default:console.warn("hotkeys/index.ts:: no keyboard hotkeys specified for application currentView="+t)}return o},Co=function(e,t){const n=(e=>{let t=_o(e);return e.deltaY<0?t+="wheel_up":t+="wheel_down",t})(e);let r=null;if("designer"===t)r=ho(n);return r};const[Oo,No]=(0,a.ce)("wd-app-container"),To={DesignerView:(0,a.cA)((({dataFieldPicker:e,report:{present:t},designer:{preferences:n,theme:r,reportStyles:o}})=>({item:t,settings:n,theme:r,reportStyles:o,dataFieldPicker:e})))((function(e){var t=e.settings.zoomFactor,n=e.item.Themes,r=e.dispatch,o=e.theme,i=e.item,s=e.dataFieldPicker,l=e.settings,c=e.makeSharedImageUrl,u=e.reportStyles;a.r.useEffect((function(){var e,n;e=t,n=[],a.bu.zoom&&n.push.apply(n,(0,a.ar)([".scalable { zoom: "+e+" }",".unscalable { zoom: "+1/e+" }",".unscalable .ar-item { zoom: "+e+" }",".unscalable .ar-item .ar-item { zoom: 1 }"])),function(e,t){var n=function(e){for(var t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.title===e)return n}return null}(e)||function(e){var t=document.createElement("style");return t.type="text/css",t.title=e,window.customSheet=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(t),t.sheet}(e);!function(e){for(;0!==e.cssRules.length;)e.deleteRule(0)}(n),t.forEach((function(e){n.insertRule(e,0)}))}("zoom",n)}),[t]),a.r.useEffect((function(){r((0,a.bv)())}),[n[0]]);var d=a.r.useMemo((function(){return{renderItem:kr(o,i.DataSets,s),getSettings:function(){return l},makeImageUrl:function(e,t,n){return(0,a.bz)(e,t,n,c)},embeddedImages:i.EmbeddedImages,getReport:function(){return i},getAreaByPath:function(e){return(0,a.b2)(i,e)},isItemInFixedArea:function(e){return(0,a.bA)(i,e)},getItemLayerInfo:function(e){return(0,a.bB)(e,i)},getDefaultStyle:function(e){return(0,a.aN)(u,e)}}}),[o,i,s,l,c,u]);return a.r.createElement(a.bC,{value:d},a.r.createElement(a.bD,(0,a.a6)({},e)))})),DataFieldPickerDropdown:(0,a.cA)((e=>Object.assign(Object.assign({},e.dataFieldPicker),{dataSets:e.report.present.DataSets,report:e.report.present,loadEntityScope:()=>null})))(a.cB),PveSurface:(0,a.cA)((({report:{present:{$paramsView:e,ReportParameters:t}}})=>Object.assign(Object.assign({},e),{parameters:t})))(a.cC.Surface),PveSidebar:(0,a.cA)((({report:{present:{$paramsView:e,ReportParameters:t,DataSources:n,DataSets:r}}})=>Object.assign(Object.assign({},e),{parameters:t,dataSources:n,dataSets:r})))(a.cC.Sidebar)},xo=({designer:{view:e,sidebarTabId:t,contextActions:n,clipboard:r,preferences:o,appBar:{showPreviewButton:a,showNewButton:i,showOpenButton:s,showSaveButton:l,showSaveAsButton:c,showInsertTab:u,showFileButton:d},dirty:p,reportId:m,reportName:f,reportStyles:v,viewer:h,appBarItemId:g},report:{present:y}})=>({currentView:e,currentSidebarTab:t,contextActions:n,clipboard:r,preferences:o,dirty:p,report:y,reportId:m,reportName:f,viewer:h,showPreviewButton:a,showNewButton:i,showOpenButton:s,showSaveButton:l,showSaveAsButton:c,showInsertTab:u,showFileButton:d,reportStyles:v,appBarItemId:g}),ko=Br.hot((({getProps:e})=>{const{onReady:t,coreProps:n,openFileView:r,getSharedImageUrl:o,onOpenReport:i,onCreateReport:s,appConfig:l}=e(),{currentView:c,currentSidebarTab:u,contextActions:d,clipboard:p,preferences:m,dirty:f,report:v,reportId:h,reportName:g,viewer:y,reportStyles:b,appBarItemId:E,showPreviewButton:w,showNewButton:S,showOpenButton:_,showSaveButton:P,showSaveAsButton:C,showFileButton:O}=(0,a.G)(xo),N=(0,a.ai)(),T=a.aR.debounce((e=>N(e))),x=a.r.useRef([]),k=a.r.useRef(null),I=a.r.useRef(null),{identifiers:{containerId:D,instanceId:A,sidebarControlsId:j}}=n,L=()=>{var e;null===(e=k.current)||void 0===e||e.recalculateBounds()},z=e=>{var t;null===(t=I.current)||void 0===t||t.onMenuTransition(e)},M=(e,t,n)=>{const r=e(t,c,n);r&&(t.stopPropagation(),t.preventDefault(),T(r))};a.r.useEffect((()=>{const e=a.cD.of(A),t=()=>({start:()=>{z(!0)},end:()=>{z(!1),L()}});return x.current=[e.menu.onTransition(t()),e.sidebar.onTransition(t())],()=>x.current.forEach((e=>e()))}),[]),a.r.useEffect((()=>{var e;const t=()=>document.querySelector("#"+D),n=e=>{So(e)&&(null===y?M(Co,e):e.preventDefault())};return null===(e=t())||void 0===e||e.addEventListener("wheel",n),()=>{var e;return null===(e=t())||void 0===e?void 0:e.removeEventListener("wheel",n)}}),[c,y]);const B=()=>{var e;document.activeElement===document.body&&(null===(e=document.getElementById(D))||void 0===e||e.focus({preventScroll:!0}))};a.r.useEffect((()=>{L()}),[E]),a.r.useLayoutEffect((()=>{setTimeout(B)})),a.r.useEffect((()=>t()),[]);const R=(0,a.a$)(v),G=Object.assign(Object.assign({},a.cE),{filtersEditor:e=>a.r.createElement(Ur,{key:e,dataScope:R}),editParameter:e=>a.r.createElement(Kr,{key:e})});let F=null;switch(c){case"parameters":F=a.r.createElement(To.PveSidebar,null);break;case"designer":{const e=a.bG.t("propertiesTab.title"),t=(0,a.cF)()?a.r.createElement(a.cG,{id:"propTab",toggle:{icon:(0,a.h)(a.cH),text:e,title:e},customScroll:!0},a.r.createElement(a.S,null,a.r.createElement(Cr,null)),a.r.createElement(a.cI,{panels:G})):null,n=a.bG.t("dataTab.title"),r=(0,a.cJ)()?a.r.createElement(a.cG,{id:"dataTab",toggle:{icon:(0,a.h)(a.cK),text:n,title:n}},a.r.createElement(Lr,{key:"s_bar_data_panel"})):null;if(t||r){let e=u;t||"propTab"!==e?r||"dataTab"!==e||(e="propTab"):e="dataTab";const{sidebarWidth:n}=m,o={defaultPanelId:e,onPanelChange:e=>N((0,a.cL)(e)),onResizeEnd:e=>N((0,a.cm)("sidebarWidth",e)),withSideToggle:!1,dataAid:"sidebar",controlsContainerId:j,collapseTitle:a.bG.t("sideBar.collapse"),expandTitle:a.bG.t("sideBar.expand"),defaultWidth:n>0?n:void 0};F=a.r.createElement(a.cM,Object.assign({key:"sidebar"},o),t,r)}break}}const V=Object.assign({},a.cN),U={about:e=>a.r.createElement(so,{key:e}),tablixWizard:e=>a.r.createElement(a.cR,{key:e,reportStyles:b}),tablixWizardWarning:e=>a.r.createElement(a.cS,{key:e}),datasource:e=>a.r.createElement(zr,{key:e}),datasetNew:e=>a.r.createElement(a.cT,{key:e,dataSources:v.DataSources,modelDatasets:v.DataSets,reportParameters:v.ReportParameters}),exportTemplate:e=>a.r.createElement(Mr,{key:e}),[a.cU]:e=>a.r.createElement(a.cV,{key:e})},{saveAllowed:H,saveAsAllowed:K}=Rr(h,g),W=()=>{if(H){if(!f)return;N((0,a.c8)(null,!0))}else N((0,a.c8)(null,!1))},$={onMenuItemSelect:e=>{const t=e;"File"!==t?("Parameters"===t&&"designer"===c?N((0,a.cW)("parameters")):"Parameters"!==t&&"designer"!==c&&N((0,a.cW)("designer")),N((0,a.cX)(t||"Home"))):r()},onCreateReport:s,onOpenReport:i,showButtons:{preview:w,new:S,open:_,save:P,saveAs:C,file:O}},Q={viewerSettings:y,onClose:()=>N((0,a.cY)())},Z=(0,a.c)(Oo,{[No("viewer")]:null!==y}),X=(0,a.cs)();return a.r.createElement(xn,{backend:ar},a.r.createElement("div",{className:Z,id:D,onKeyDown:e=>{if(null!==y)return;const t={report:v,settings:m,actions:d,clipboard:p,designerReportName:g,canSave:(H||K)&&(P||C||!!r),saveReport:W,showFileView:r,onOpenReport:i,onCreateReport:s,lockLayout:l.lockLayout,disableBuiltInReportHotkeys:l.disableBuiltInReportHotkeys};M(Po,e,t)},tabIndex:-1},a.r.createElement(mr,Object.assign({},n),a.r.createElement(Wr,null),a.r.createElement(En,{area:"appbar"},a.r.createElement(Fr,Object.assign({},$))),a.r.createElement(En,{area:"menu"},a.r.createElement(gr,{appName:X,customLogo:(0,a.cO)(),onToggle:()=>{}})),a.r.createElement(En,{area:"toolbar"},a.r.createElement(a.cP,null),a.r.createElement(a.cQ,{id:j})),a.r.createElement(En,{area:"surface"},"designer"===c&&a.r.createElement(a.r.Fragment,null,a.r.createElement(To.DesignerView,{makeSharedImageUrl:o,decorationLayerRef:I}),a.r.createElement(xr,null),a.r.createElement(To.DataFieldPickerDropdown,{dataScope:R}),a.r.createElement(Zr,null)),"parameters"===c&&a.r.createElement(To.PveSurface,null)),a.r.createElement(En,{area:"sidebar"},F),a.r.createElement(En,{area:"statusbar"},a.r.createElement(Yr,null)),a.r.createElement(On,{dialogs:V,id:A}),a.r.createElement(On,{dialogs:U,id:"default"})),a.r.createElement(ao,Object.assign({},Q))))})),Io=ko}}]);